"use strict";(self["webpackChunkqltools"]=self["webpackChunkqltools"]||[]).push([[661],{3798:function(t,e,i){i.d(e,{Z:function(){return b}});var o=i(6252);const n=t=>((0,o.dD)("data-v-326b083d"),t=t(),(0,o.Cn)(),t),a={class:"mdui-m-t-5",id:"footer"},s={class:"mdui-p-a-5 mdui-typo mdui-container"},l={class:"mdui-col mdui-text"},d=n((()=>(0,o._)("span",{id:"Copyright"},"Copyright © 2022 All rights reserved. ",-1))),c={href:"https://github.com/nuanxinqing123/QLTools"},r=(0,o.Uk)("青龙 Tools"),m=n((()=>(0,o._)("p",null,"简单便捷的第三方工具，给您带来不一样的体验！",-1)));function u(t,e,i,n,u,p){const g=(0,o.up)("st");return(0,o.wg)(),(0,o.iD)("footer",a,[(0,o._)("div",s,[(0,o._)("div",l,[(0,o._)("p",null,[d,(0,o._)("a",c,[(0,o.Wm)(g,null,{default:(0,o.w5)((()=>[r])),_:1})])]),m])])])}var p={name:"FooterCom"},g=i(3744);const _=(0,g.Z)(p,[["render",u],["__scopeId","data-v-326b083d"]]);var b=_},5388:function(t,e,i){i.d(e,{Z:function(){return L}});var o=i(6252);const n={class:"mdui-toolbar"},a=(0,o._)("a",{href:"/#/",class:"mdui-btn mdui-btn-icon"},[(0,o._)("i",{class:"mdui-icon material-icons"},"account_balance_wallet")],-1),s=(0,o._)("span",{class:"mdui-typo-title"},"青龙Tools",-1),l=(0,o._)("div",{class:"mdui-toolbar-spacer"},null,-1),d=(0,o._)("a",{"mdui-tooltip":"{content: '刷新页面'}",href:"javascript:location.reload();",class:"mdui-btn mdui-btn-icon"},[(0,o._)("i",{class:"mdui-icon material-icons"},"refresh")],-1),c=(0,o._)("i",{class:"mdui-icon material-icons"},"center_focus_strong",-1),r=[c],m=(0,o._)("i",{class:"mdui-icon material-icons"},"center_focus_weak",-1),u=[m],p=(0,o._)("i",{class:"mdui-icon material-icons"},"account_circle",-1),g=[p],_=(0,o._)("i",{class:"mdui-icon material-icons"},"exit_to_app",-1),b=[_];function h(t,e,i,c,m,p){return(0,o.wg)(),(0,o.iD)("div",n,[a,s,l,d,(0,o._)("a",{"mdui-tooltip":"{content: '登录'}",onClick:e[0]||(e[0]=t=>this.Login()),id:"Login",class:"mdui-btn mdui-btn-icon"},r),(0,o._)("a",{"mdui-tooltip":"{content: '注册'}",onClick:e[1]||(e[1]=t=>this.Register()),id:"Register",class:"mdui-btn mdui-btn-icon"},u),(0,o._)("a",{"mdui-tooltip":"{content: '管理面板'}",onClick:e[2]||(e[2]=t=>this.GoAdmin()),id:"Admin",class:"mdui-btn mdui-btn-icon",style:{display:"none"}},g),(0,o._)("a",{"mdui-tooltip":"{content: '退出登录'}",onClick:e[3]||(e[3]=t=>this.LogOut()),id:"LogOut",class:"mdui-btn mdui-btn-icon",style:{display:"none"}},b)])}var f=i(9669),y=i.n(f),w={name:"HeaderCom",methods:{CheckLogin(){let t=localStorage.getItem("Bearer");if(null!==t&&""!==t){let e={token:t};y().post("/v1/api/check/token",e).then((t=>{!0===t.data.data?(document.getElementById("Admin").style.display="inline",document.getElementById("Login").style.display="none",document.getElementById("Register").style.display="none",document.getElementById("LogOut").style.display="inline"):localStorage.clear()}))}},LogOut(){console.log("退出登录"),localStorage.clear(),window.open("/#/","_self"),location.reload()},GoAdmin(){window.open("/#/admin","_self"),location.reload()},Register(){window.open("/#/register","_self"),location.reload()},Login(){window.open("/#/login","_self"),location.reload()}},mounted(){this.CheckLogin()}},k=i(3744);const v=(0,k.Z)(w,[["render",h]]);var L=v},661:function(t,e,i){i.r(e),i.d(e,{default:function(){return C}});var o=i(6252),n=i(9963);const a=t=>((0,o.dD)("data-v-400704bd"),t=t(),(0,o.Cn)(),t),s={id:"box"},l={class:"box",style:{"margin-top":"35px"}},d=a((()=>(0,o._)("p",{style:{"padding-bottom":"10px"}},"管理员登录（演示版）",-1))),c=a((()=>(0,o._)("hr",null,null,-1))),r={style:{width:"75%",margin:"20px auto 0"}},m={class:"mdui-textfield mdui-textfield-floating-label"},u=a((()=>(0,o._)("i",{class:"mdui-icon material-icons"},"email",-1))),p={class:"mdui-textfield mdui-textfield-floating-label"},g=a((()=>(0,o._)("i",{class:"mdui-icon material-icons"},"lock",-1))),_=a((()=>(0,o._)("div",{style:{"text-align":"center","padding-top":"20px"}},[(0,o._)("button",{class:"mdui-btn mdui-btn-raised mdui-ripple mdui-color-blue-50",style:{width:"200px"},id:"LoginBtn"},"登  录")],-1)));function b(t,e,i,a,b,h){const f=(0,o.up)("HeaderCom"),y=(0,o.up)("FooterCom");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(f),(0,o._)("div",s,[(0,o._)("div",l,[d,c,(0,o._)("div",r,[(0,o._)("form",{onSubmit:e[2]||(e[2]=(0,n.iM)(((...t)=>h.submitForm&&h.submitForm(...t)),["prevent"]))},[(0,o._)("div",m,[u,(0,o.wy)((0,o._)("input",{type:"text",class:"mdui-textfield-input",placeholder:"管理员邮箱","onUpdate:modelValue":e[0]||(e[0]=t=>b.LoginData.email=t)},null,512),[[n.nr,b.LoginData.email]])]),(0,o._)("div",p,[g,(0,o.wy)((0,o._)("input",{type:"password",class:"mdui-textfield-input",placeholder:"管理员密码","onUpdate:modelValue":e[1]||(e[1]=t=>b.LoginData.password=t)},null,512),[[n.nr,b.LoginData.password]])]),_],32)])])]),(0,o.Wm)(y)],64)}var h=i(9669),f=i.n(h),y=i(4493),w=i(5388),k=i(3798),v={name:"LoginView",components:{HeaderCom:w.Z,FooterCom:k.Z},data(){return{LoginData:{email:"",password:""}}},methods:{submitForm(){f().post("/v1/api/signin",this.LoginData).then((t=>{switch(""!==t.data){case 2e3===t.data.code:localStorage.setItem("Bearer",t.data.data),window.open("/","_self");break;case 5008===t.data.code:y.Z.snackbar({message:"邮箱或者密码错误",position:"right-top"});break;case 5003===t.data.code:y.Z.snackbar({message:"服务繁忙",position:"right-top"});break;case 5010===t.data.code:y.Z.snackbar({message:"邮箱不存在",position:"right-top"});break;case 5009===t.data.code:y.Z.snackbar({message:"邮箱格式错误",position:"right-top"});break;case 5002===t.data.code:""===t.data.data?y.Z.snackbar({message:"服务繁忙",position:"right-top"}):y.Z.snackbar({message:t.data.msg,position:"right-top"});break}})).catch((t=>{y.Z.snackbar({message:t,position:"right-top"})}))},CheckLogin(){let t=localStorage.getItem("Bearer");null!==t&&""!==t&&window.open("/","_self")},changeStyle(){let t=document.querySelector("#box");t.style.minHeight=window.innerHeight-document.body.clientHeight+t.clientHeight+"px",y.Z.mutation()}},mounted(){this.CheckLogin(),this.changeStyle()}},L=i(3744);const x=(0,L.Z)(v,[["render",b],["__scopeId","data-v-400704bd"]]);var C=x}}]);
//# sourceMappingURL=661.f42b5397.js.map