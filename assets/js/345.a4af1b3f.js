"use strict";(self["webpackChunkqltools"]=self["webpackChunkqltools"]||[]).push([[345],{4675:function(e,a,i){i.d(a,{Z:function(){return W}});var t=i(6252);const l=e=>((0,t.dD)("data-v-22463887"),e=e(),(0,t.Cn)(),e),n={class:"mdui-drawer mdui-shadow-6",id:"main-drawer",style:{"box-sizing":"border-box"}},d={class:"mdui-list"},s=l((()=>(0,t._)("i",{class:"mdui-list-item-icon mdui-icon material-icons"},"desktop_mac",-1))),o=l((()=>(0,t._)("div",{class:"mdui-list-item-content"},"仪表盘",-1))),c=[s,o],u=l((()=>(0,t._)("i",{class:"mdui-list-item-icon mdui-icon material-icons"},"playlist_play",-1))),m=l((()=>(0,t._)("div",{class:"mdui-list-item-content"},"变量管理",-1))),r=[u,m],p=l((()=>(0,t._)("i",{class:"mdui-list-item-icon mdui-icon material-icons"},"apps",-1))),_=l((()=>(0,t._)("div",{class:"mdui-list-item-content"},"面板管理",-1))),h=[p,_],b=l((()=>(0,t._)("i",{class:"mdui-list-item-icon mdui-icon material-icons"},"local_play",-1))),g=l((()=>(0,t._)("div",{class:"mdui-list-item-content"},"插件管理",-1))),v=[b,g],k=l((()=>(0,t._)("i",{class:"mdui-list-item-icon mdui-icon material-icons"},"import_export",-1))),P=l((()=>(0,t._)("div",{class:"mdui-list-item-content"},"容器管理",-1))),D=[k,P],w=l((()=>(0,t._)("i",{class:"mdui-list-item-icon mdui-icon material-icons"},"credit_card",-1))),x=l((()=>(0,t._)("div",{class:"mdui-list-item-content"},"CDK管理",-1))),U=[w,x],f=l((()=>(0,t._)("i",{class:"mdui-list-item-icon mdui-icon material-icons"},"sms",-1))),y=l((()=>(0,t._)("div",{class:"mdui-list-item-content"},"推送管理",-1))),C=[f,y],A=l((()=>(0,t._)("i",{class:"mdui-list-item-icon mdui-icon material-icons"},"settings",-1))),Z=l((()=>(0,t._)("div",{class:"mdui-list-item-content"},"网站设置",-1))),E=[A,Z],I=l((()=>(0,t._)("i",{class:"mdui-list-item-icon mdui-icon material-icons"},"attach_money",-1))),O=l((()=>(0,t._)("div",{class:"mdui-list-item-content"},"关于面板",-1))),V=[I,O],S=l((()=>(0,t._)("a",{class:"mdui-list-item","mdui-drawer-close":""},[(0,t._)("i",{class:"mdui-list-item-icon mdui-icon material-icons"},"chevron_left"),(0,t._)("div",{class:"mdui-list-item-content"},"收起菜单")],-1)));function L(e,a,i,l,s,o){return(0,t.wg)(),(0,t.iD)("div",n,[(0,t._)("div",d,[(0,t._)("a",{onClick:a[0]||(a[0]=e=>this.OpenURL("/#/admin/")),class:"mdui-list-item"},c),(0,t._)("a",{onClick:a[1]||(a[1]=e=>this.OpenURL("/#/admin/env/")),class:"mdui-list-item"},r),(0,t._)("a",{onClick:a[2]||(a[2]=e=>this.OpenURL("/#/admin/panel/")),class:"mdui-list-item"},h),(0,t._)("a",{onClick:a[3]||(a[3]=e=>this.OpenURL("/#/admin/plugin/")),class:"mdui-list-item"},v),(0,t._)("a",{onClick:a[4]||(a[4]=e=>this.OpenURL("/#/admin/transfer/")),class:"mdui-list-item"},D),(0,t._)("a",{onClick:a[5]||(a[5]=e=>this.OpenURL("/#/admin/cdk/")),class:"mdui-list-item"},U),(0,t._)("a",{onClick:a[6]||(a[6]=e=>this.OpenURL("/#/admin/message/")),class:"mdui-list-item"},C),(0,t._)("a",{onClick:a[7]||(a[7]=e=>this.OpenURL("/#/admin/settings/")),class:"mdui-list-item"},E),(0,t._)("a",{onClick:a[8]||(a[8]=e=>this.OpenURL("/#/admin/about/")),class:"mdui-list-item"},V),S])])}var T=i(4493),B={name:"AdminBar",methods:{changeStyle(){window.innerWidth>=1e3&&document.getElementById("main-drawer").classList.add("mdui-drawer-open");let e=document.querySelector("#container");e.style.minHeight=window.innerHeight-document.body.clientHeight+e.clientHeight+"px",T.Z.mutation()},OpenURL(e){window.open(e,"_self"),location.reload()}},mounted(){this.changeStyle()}},R=i(3744);const q=(0,R.Z)(B,[["render",L],["__scopeId","data-v-22463887"]]);var W=q},950:function(e,a,i){i.d(a,{Z:function(){return I}});var t=i(6252);const l=e=>((0,t.dD)("data-v-051e9a76"),e=e(),(0,t.Cn)(),e),n={class:"mdui-m-t-5"},d={class:"mdui-p-a-5 mdui-typo mdui-container"},s={class:"mdui-row-sm-3"},o={class:"mdui-col mdui-text"},c=l((()=>(0,t._)("span",{id:"Copyright"},"Copyright © 2022 All rights reserved. ",-1))),u={href:"https://github.com/nuanxinqing123/QLTools"},m=(0,t.Uk)("青龙 Tools"),r=l((()=>(0,t._)("p",null,"简单便捷的第三方工具，给您带来不一样的体验！",-1))),p={class:"mdui-col mdui-text"},_=(0,t.Uk)("QQ交流: "),h={href:"https://jq.qq.com/?_wv=1027&k=BV2RgQaP"},b=(0,t.Uk)("进来吹水"),g=(0,t.Uk)("电报联系: "),v={href:"https://t.me/Nuanxinqing"},k=(0,t.Uk)("@Nuanxinqing"),P={class:"mdui-col mdui-text"},D=(0,t.Uk)("电报频道: "),w={href:"https://t.me/qltool"},x=(0,t.Uk)("青龙Tools"),U=(0,t.Uk)("电报群组: "),f={href:"https://t.me/qltools"},y=(0,t.Uk)("青龙Tools吹水群");function C(e,a,i,l,C,A){const Z=(0,t.up)("st");return(0,t.wg)(),(0,t.iD)("footer",n,[(0,t._)("div",d,[(0,t._)("div",s,[(0,t._)("div",o,[(0,t._)("p",null,[c,(0,t._)("a",u,[(0,t.Wm)(Z,null,{default:(0,t.w5)((()=>[m])),_:1})])]),r]),(0,t._)("div",p,[(0,t._)("p",null,[_,(0,t._)("a",h,[(0,t.Wm)(Z,null,{default:(0,t.w5)((()=>[b])),_:1})])]),(0,t._)("p",null,[g,(0,t._)("a",v,[(0,t.Wm)(Z,null,{default:(0,t.w5)((()=>[k])),_:1})])])]),(0,t._)("div",P,[(0,t._)("p",null,[D,(0,t._)("a",w,[(0,t.Wm)(Z,null,{default:(0,t.w5)((()=>[x])),_:1})])]),(0,t._)("p",null,[U,(0,t._)("a",f,[(0,t.Wm)(Z,null,{default:(0,t.w5)((()=>[y])),_:1})])])])])])])}var A={name:"AdminFooter"},Z=i(3744);const E=(0,Z.Z)(A,[["render",C],["__scopeId","data-v-051e9a76"]]);var I=E},2743:function(e,a,i){i.d(a,{Z:function(){return v}});var t=i(6252);const l={class:"mdui-appbar mdui-appbar-fixed mdui-color-indigo-800"},n={class:"mdui-toolbar"},d=(0,t._)("a",{"mdui-tooltip":"{content: '菜单'}","mdui-drawer":"{target: '#main-drawer'}",class:"mdui-btn mdui-btn-icon"},[(0,t._)("i",{class:"mdui-icon material-icons"},"menu")],-1),s=(0,t._)("a",{href:"javascript:;",class:"mdui-typo-headline"},"Tools",-1),o=(0,t._)("div",{class:"mdui-toolbar-spacer"},null,-1),c=(0,t._)("i",{class:"mdui-icon material-icons"},"home",-1),u=[c],m=(0,t._)("a",{"mdui-tooltip":"{content: '刷新页面'}",href:"javascript:location.reload();",class:"mdui-btn mdui-btn-icon"},[(0,t._)("i",{class:"mdui-icon material-icons"},"refresh")],-1),r=(0,t._)("i",{class:"mdui-icon material-icons"},"exit_to_app",-1),p=[r];function _(e,a,i,c,r,_){return(0,t.wg)(),(0,t.iD)("header",l,[(0,t._)("div",n,[d,s,o,(0,t._)("a",{"mdui-tooltip":"{content: '前往首页'}",onClick:a[0]||(a[0]=(...e)=>_.GoIndex&&_.GoIndex(...e)),class:"mdui-btn mdui-btn-icon"},u),m,(0,t._)("a",{"mdui-tooltip":"{content: '退出登录'}",onClick:a[1]||(a[1]=e=>this.LogOut()),href:"javascript:;",class:"mdui-btn mdui-btn-icon",id:"LogOut"},p)])])}var h={name:"AdminHeader",methods:{LogOut(){console.log("退出登录"),localStorage.clear(),window.open("/#/","_self"),location.reload()},GoIndex(){window.open("/#/","_self"),location.reload()}}},b=i(3744);const g=(0,b.Z)(h,[["render",_]]);var v=g},6345:function(e,a,i){i.r(a),i.d(a,{default:function(){return ia}});var t=i(6252);const l={class:"mdui-appbar-with-toolbar"};function n(e,a,i,n,d,s){const o=(0,t.up)("AdminHeader"),c=(0,t.up)("AdminBar"),u=(0,t.up)("AdminPanelCom"),m=(0,t.up)("AdminFooter");return(0,t.wg)(),(0,t.iD)("div",l,[(0,t.Wm)(o),(0,t.Wm)(c),(0,t.Wm)(u),(0,t.Wm)(m)])}var d=i(2743),s=i(4675),o=i(950),c=i(3577),u=i(9963);const m={id:"container",class:"mdui-container mdui-p-t-1",style:{"margin-top":"10px"}},r=(0,t.uE)('<div class="mdui-card mt" style="border-radius:15px;"><div class="mdui-card-primary"><div class="mdui-card-primary-title">面板管理</div><div class="mdui-card-primary-subtitle">Panel Management</div></div><div class="mdui-card-content mdui-typo"><p class="text_s">面板管理可以添加自己的服务容器（青龙面板），用于分散提交的变量到不同的容器来缓解过于集中的压力。利于管理</p><p class="text_s">Tips：青龙Tools需要<span style="font-size:16px;color:#E53333;">环境变量</span>模块的权限，请开通此模块权限</p><p class="text_s">Tips：青龙面板版本低于2.11.x的用户请选择旧版本，2.11.x以及以上用户请选择新版本。默认新版本</p></div></div>',1),p={class:"mdui-card mt",style:{"border-radius":"15px","margin-top":"15px"}},_=(0,t._)("div",{class:"mdui-card-primary"},[(0,t._)("div",{class:"mdui-card-primary-title"},"设置面板"),(0,t._)("div",{class:"mdui-card-primary-subtitle"},"Set Panel")],-1),h={class:"mdui-card-menu"},b=(0,t._)("i",{class:"mdui-icon mdui-icon-left material-icons"},"loupe",-1),g=(0,t.Uk)("新增 "),v=[b,g],k=(0,t._)("i",{class:"mdui-icon mdui-icon-left material-icons"},"delete",-1),P=(0,t.Uk)("清空变量绑定 "),D=[k,P],w=(0,t._)("i",{class:"mdui-icon mdui-icon-left material-icons"},"settings_backup_restore",-1),x=(0,t.Uk)("更新Token "),U=[w,x],f={class:"mdui-table-fluid"},y={class:"mdui-table mdui-table-hoverable"},C=(0,t._)("thead",null,[(0,t._)("tr",null,[(0,t._)("th",null,"启用面板"),(0,t._)("th",null,"面板名称"),(0,t._)("th",null,"面板版本"),(0,t._)("th",null,"面板地址"),(0,t._)("th",null,"面板ID"),(0,t._)("th",null,"面板Secret"),(0,t._)("th",null,"绑定变量"),(0,t._)("th",null,"操作")])],-1),A={key:0,style:{color:"green"}},Z={key:1,style:{color:"#5353f5"}},E={key:2},I={key:3},O=(0,t._)("th",null,"******",-1),V=(0,t._)("th",null,"************",-1),S=["onClick"],L=["onClick"],T=(0,t.Uk)("    "),B=["onClick"],R=(0,t.Uk)("    "),q=["onClick"],W={id:"panelAdd",class:"mdui-dialog",style:{top:"210px",display:"none"}},N=(0,t._)("div",{class:"mdui-dialog-title"},"新增面板",-1),H={class:"mdui-dialog-content mdui-typo",style:{height:"407px"}},G={class:"mdui-textfield"},z=(0,t._)("label",{class:"mdui-textfield-label"},"面板名称",-1),j={class:"mdui-textfield"},M=(0,t._)("label",{class:"mdui-textfield-label"},"面板版本",-1),Q={class:"mdui-switch"},F=(0,t.Uk)(" 新版本  "),K=(0,t._)("i",{class:"mdui-switch-icon"},null,-1),Y=(0,t.Uk)("  旧版本 "),J={class:"mdui-textfield"},X=(0,t._)("label",{class:"mdui-textfield-label"},"面板地址",-1),$={class:"mdui-textfield"},ee=(0,t._)("label",{class:"mdui-textfield-label"},"ClientID",-1),ae={class:"mdui-textfield"},ie=(0,t._)("label",{class:"mdui-textfield-label"},"ClientSecret",-1),te=(0,t._)("div",{class:"mdui-dialog-actions"},[(0,t._)("button",{class:"mdui-btn mdui-color-green-700 mdui-text-color-white btn"},[(0,t._)("i",{class:"mdui-icon mdui-icon-left material-icons"},"check"),(0,t.Uk)("确认新增 ")])],-1),le={id:"panelDel",class:"mdui-dialog",style:{display:"none"}},ne=(0,t._)("div",{class:"mdui-dialog-content"},"确认删除面板?",-1),de={class:"mdui-dialog-actions"},se=(0,t._)("button",{class:"mdui-btn mdui-ripple","mdui-dialog-close":""},"返回",-1),oe={id:"panelUpdate",class:"mdui-dialog",style:{top:"210px",display:"none"}},ce=(0,t._)("div",{class:"mdui-dialog-title"},"修改面板信息",-1),ue={class:"mdui-dialog-content mdui-typo",style:{height:"407px"}},me={class:"mdui-textfield"},re=(0,t._)("label",{class:"mdui-textfield-label"},"面板状态",-1),pe={class:"mdui-switch"},_e=(0,t.Uk)(" 停用面板  "),he=(0,t._)("i",{class:"mdui-switch-icon"},null,-1),be=(0,t.Uk)("  启用面板 "),ge={class:"mdui-textfield"},ve=(0,t._)("label",{class:"mdui-textfield-label"},"面板名称",-1),ke={class:"mdui-textfield"},Pe=(0,t._)("label",{class:"mdui-textfield-label"},"面板版本",-1),De={class:"mdui-switch"},we=(0,t.Uk)(" 新版本  "),xe=(0,t._)("i",{class:"mdui-switch-icon"},null,-1),Ue=(0,t.Uk)("  旧版本 "),fe={class:"mdui-textfield"},ye=(0,t._)("label",{class:"mdui-textfield-label"},"面板地址",-1),Ce={class:"mdui-textfield"},Ae=(0,t._)("label",{class:"mdui-textfield-label"},"ClientID",-1),Ze={class:"mdui-textfield"},Ee=(0,t._)("label",{class:"mdui-textfield-label"},"ClientSecret",-1),Ie=(0,t._)("div",{class:"mdui-dialog-actions"},[(0,t._)("button",{class:"mdui-btn mdui-color-green-700 mdui-text-color-white btn"},[(0,t._)("i",{class:"mdui-icon mdui-icon-left material-icons"},"check"),(0,t.Uk)("确认修改 ")])],-1),Oe={id:"panelEnv",class:"mdui-dialog",style:{top:"210px",display:"none"}},Ve=(0,t._)("div",{class:"mdui-dialog-title"},"绑定变量",-1),Se={class:"mdui-dialog-content mdui-typo"},Le={class:"mdui-checkbox"},Te=["onClick"],Be=["onClick"],Re=(0,t._)("i",{class:"mdui-checkbox-icon"},null,-1),qe=(0,t.Uk)("   "),We=(0,t._)("div",{class:"mdui-dialog-actions"},[(0,t._)("button",{class:"mdui-btn mdui-color-green-700 mdui-text-color-white btn"},[(0,t._)("i",{class:"mdui-icon mdui-icon-left material-icons"},"check"),(0,t.Uk)("确认绑定 ")])],-1),Ne={id:"panelEnvDel",class:"mdui-dialog",style:{display:"none"}},He=(0,t._)("div",{class:"mdui-dialog-title"},"确认清空绑定?",-1),Ge=(0,t._)("div",{class:"mdui-dialog-content"},"此功能会清除所有面板的绑定变量(正式版1.4以及之前的版本用户请执行此操作)",-1),ze={class:"mdui-dialog-actions"},je=(0,t._)("button",{class:"mdui-btn mdui-ripple","mdui-dialog-close":""},"返回",-1);function Me(e,a,i,l,n,d){return(0,t.wg)(),(0,t.iD)("div",m,[r,(0,t._)("div",p,[_,(0,t._)("div",h,[(0,t._)("button",{onClick:a[0]||(a[0]=e=>d.OpenPanelAdd()),class:"mdui-btn mdui-btn-dense mdui-btn-raised btn mdui-p-x-1 mdui-color-blue-grey mdui-text-color-white"},v),(0,t._)("button",{onClick:a[1]||(a[1]=e=>d.OpenPutPanelEnv()),class:"mdui-btn mdui-btn-dense mdui-btn-raised btn mdui-p-x-1 mdui-color-blue-grey mdui-text-color-white"},D),(0,t._)("button",{onClick:a[2]||(a[2]=e=>d.UpdateAllPanelToken()),class:"mdui-btn mdui-btn-dense mdui-btn-raised btn mdui-p-x-1 mdui-color-blue-grey mdui-text-color-white"},U)]),(0,t._)("div",f,[(0,t._)("table",y,[C,(0,t._)("tbody",null,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(n.AllPanelData,((e,a)=>((0,t.wg)(),(0,t.iD)("tr",{key:e},[!0===e.Enable?((0,t.wg)(),(0,t.iD)("th",A,"启用")):((0,t.wg)(),(0,t.iD)("th",Z,"停用")),(0,t._)("th",null,(0,c.zw)(e.PanelName),1),!0===e.PanelVersion?((0,t.wg)(),(0,t.iD)("th",E,"旧版本")):((0,t.wg)(),(0,t.iD)("th",I,"新版本")),(0,t._)("th",null,(0,c.zw)(e.URL),1),O,V,(0,t._)("th",null,[(0,t._)("button",{onClick:i=>d.OpenPanelEnv(e.ID,a),class:"mdui-btn mdui-btn-dense mdui-btn-raised btn mdui-p-x-1 mdui-color-teal mdui-text-color-white"}," 绑定变量 ",8,S)]),(0,t._)("th",null,[(0,t._)("button",{onClick:a=>d.CheckPanelSuccess(e.URL,e.ClientID,e.ClientSecret),class:"mdui-btn mdui-btn-dense mdui-btn-raised btn mdui-p-x-1 mdui-color-green-700 mdui-text-color-white"}," 测试连接 ",8,L),T,(0,t._)("button",{onClick:a=>d.OpenPanelUpdate(e.ID,e.PanelName,e.URL,e.ClientID,e.ClientSecret,e.Enable,e.PanelVersion),class:"mdui-btn mdui-btn-dense mdui-btn-raised btn mdui-p-x-1 mdui-color-blue mdui-text-color-white"}," 修改 ",8,B),R,(0,t._)("button",{onClick:a=>d.OpenPanelDel(e.ID),class:"mdui-btn mdui-btn-dense mdui-btn-raised btn mdui-p-x-1 mdui-color-red mdui-text-color-white"}," 删除 ",8,q)])])))),128))])])])]),(0,t._)("div",W,[N,(0,t._)("div",H,[(0,t._)("form",{onSubmit:a[8]||(a[8]=(0,u.iM)(((...e)=>d.AddPanel&&d.AddPanel(...e)),["prevent"]))},[(0,t._)("div",G,[z,(0,t.wy)((0,t._)("input",{class:"mdui-textfield-input",type:"text",id:"panelName",placeholder:"选填","onUpdate:modelValue":a[3]||(a[3]=e=>n.AddPanelData.name=e)},null,512),[[u.nr,n.AddPanelData.name]])]),(0,t._)("div",j,[M,(0,t._)("label",Q,[F,(0,t.wy)((0,t._)("input",{"onUpdate:modelValue":a[4]||(a[4]=e=>n.AddPanelData.PanelVersion=e),type:"checkbox"},null,512),[[u.e8,n.AddPanelData.PanelVersion]]),K,Y])]),(0,t._)("div",J,[X,(0,t.wy)((0,t._)("input",{class:"mdui-textfield-input",type:"url",id:"panelUrl",placeholder:"必填","onUpdate:modelValue":a[5]||(a[5]=e=>n.AddPanelData.url=e)},null,512),[[u.nr,n.AddPanelData.url]])]),(0,t._)("div",$,[ee,(0,t.wy)((0,t._)("input",{class:"mdui-textfield-input",type:"text",id:"panelID",placeholder:"必填","onUpdate:modelValue":a[6]||(a[6]=e=>n.AddPanelData.id=e)},null,512),[[u.nr,n.AddPanelData.id]])]),(0,t._)("div",ae,[ie,(0,t.wy)((0,t._)("input",{class:"mdui-textfield-input",type:"text",id:"panelSecret",placeholder:"必填","onUpdate:modelValue":a[7]||(a[7]=e=>n.AddPanelData.secret=e)},null,512),[[u.nr,n.AddPanelData.secret]])]),te],32)])]),(0,t._)("div",le,[ne,(0,t._)("div",de,[se,(0,t._)("button",{onClick:a[9]||(a[9]=e=>d.DelPanel()),class:"mdui-btn mdui-ripple"},"删除")])]),(0,t._)("div",oe,[ce,(0,t._)("div",ue,[(0,t._)("form",{onSubmit:a[16]||(a[16]=(0,u.iM)(((...e)=>d.UpdatePanel&&d.UpdatePanel(...e)),["prevent"]))},[(0,t._)("div",me,[re,(0,t._)("label",pe,[_e,(0,t.wy)((0,t._)("input",{"onUpdate:modelValue":a[10]||(a[10]=e=>n.UpdatePanelData.enablePanel=e),type:"checkbox"},null,512),[[u.e8,n.UpdatePanelData.enablePanel]]),he,be])]),(0,t._)("div",ge,[ve,(0,t.wy)((0,t._)("input",{class:"mdui-textfield-input",type:"text",placeholder:"选填","onUpdate:modelValue":a[11]||(a[11]=e=>n.UpdatePanelData.name=e)},null,512),[[u.nr,n.UpdatePanelData.name]])]),(0,t._)("div",ke,[Pe,(0,t._)("label",De,[we,(0,t.wy)((0,t._)("input",{"onUpdate:modelValue":a[12]||(a[12]=e=>n.UpdatePanelData.PanelVersion=e),type:"checkbox"},null,512),[[u.e8,n.UpdatePanelData.PanelVersion]]),xe,Ue])]),(0,t._)("div",fe,[ye,(0,t.wy)((0,t._)("input",{class:"mdui-textfield-input",type:"url",placeholder:"必填","onUpdate:modelValue":a[13]||(a[13]=e=>n.UpdatePanelData.url=e)},null,512),[[u.nr,n.UpdatePanelData.url]])]),(0,t._)("div",Ce,[Ae,(0,t.wy)((0,t._)("input",{class:"mdui-textfield-input",type:"text",placeholder:"必填","onUpdate:modelValue":a[14]||(a[14]=e=>n.UpdatePanelData.id=e)},null,512),[[u.nr,n.UpdatePanelData.id]])]),(0,t._)("div",Ze,[Ee,(0,t.wy)((0,t._)("input",{class:"mdui-textfield-input",type:"text",placeholder:"必填","onUpdate:modelValue":a[15]||(a[15]=e=>n.UpdatePanelData.secret=e)},null,512),[[u.nr,n.UpdatePanelData.secret]])]),Ie],32)])]),(0,t._)("div",Oe,[Ve,(0,t._)("div",Se,[(0,t._)("form",{onSubmit:a[17]||(a[17]=(0,u.iM)(((...e)=>d.SendPanelBinding&&d.SendPanelBinding(...e)),["prevent"]))},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(n.EnvAll,(e=>((0,t.wg)(),(0,t.iD)("span",{key:e},[(0,t._)("label",Le,[!0===n.EnvPanelData.includes(e.ID.toString())?((0,t.wg)(),(0,t.iD)("input",{key:0,onClick:a=>d.UpdatePanelBinding(e.ID),type:"checkbox",checked:""},null,8,Te)):((0,t.wg)(),(0,t.iD)("input",{key:1,onClick:a=>d.UpdatePanelBinding(e.ID),type:"checkbox"},null,8,Be)),Re,(0,t.Uk)(" "+(0,c.zw)(e.Name),1)]),qe])))),128)),We],32)])]),(0,t._)("div",Ne,[He,Ge,(0,t._)("div",ze,[je,(0,t._)("button",{onClick:a[18]||(a[18]=e=>d.DelPanelBingEnv()),class:"mdui-btn mdui-ripple"},"执行")])])])}var Qe=i(4493),Fe=i(9669),Ke=i.n(Fe),Ye={name:"AdminPanelCom",data(){return{AllPanelData:[{ID:0,PanelName:"",Enable:!1,URL:"",ClientID:"",ClientSecret:"",EnvBinding:"",PanelVersion:!1}],AddPanelData:{name:"",enablePanel:!0,PanelVersion:!1,url:"",id:"",secret:""},DelPanelData:{uid:0},UpdatePanelData:{uid:0,name:"",enablePanel:!1,PanelVersion:!1,url:"",id:"",secret:""},EnvPanelData:[],EnvPanelDataID:0,EnvAll:[{ID:0,Name:""}]}},methods:{GetAllPanelData(){Ke().get("/v2/api/env/panel/all").then((e=>{switch(""!==e.data){case 2e3===e.data.code:this.AllPanelData=e.data.data;break}})).catch((e=>{Qe.Z.snackbar({message:e,position:"right-top"})}))},OpenPanelAdd(){let e=new Qe.Z.Dialog("#panelAdd");e.toggle()},OpenPutPanelEnv(){let e=new Qe.Z.Dialog("#panelEnvDel");e.toggle()},OpenPanelDel(e){this.DelPanelData.uid=e;let a=new Qe.Z.Dialog("#panelDel");a.toggle()},OpenPanelUpdate(e,a,i,t,l,n,d){this.UpdatePanelData.uid=e,this.UpdatePanelData.name=a,this.UpdatePanelData.url=i,this.UpdatePanelData.id=t,this.UpdatePanelData.secret=l,this.UpdatePanelData.enablePanel=n,this.UpdatePanelData.PanelVersion=d;let s=new Qe.Z.Dialog("#panelUpdate");s.toggle()},OpenPanelEnv(e,a){this.EnvPanelDataID=e,this.GetEnvAll(),this.EnvPanelData=this.AllPanelData[a].EnvBinding.split("@");let i=new Qe.Z.Dialog("#panelEnv");i.toggle()},AddPanel(){Ke().post("/v2/api/env/panel/add",this.AddPanelData).then((e=>{switch(""!==e.data){case 2e3===e.data.code:Qe.Z.snackbar({message:"面板信息添加成功",position:"right-top"}),setTimeout((()=>{location.reload()}),1e3);break;case 5016===e.data.code:Qe.Z.snackbar({message:"面板信息添加失败",position:"right-top"});break;case 5002===e.data.code:""===e.data.data?Qe.Z.snackbar({message:"服务繁忙",position:"right-top"}):Qe.Z.snackbar({message:e.data.msg,position:"right-top"});break}})).catch((e=>{Qe.Z.snackbar({message:e,position:"right-top"})}))},DelPanel(){Ke()["delete"]("/v2/api/env/panel/del",{data:this.DelPanelData}).then((e=>{switch(""!==e.data){case 2e3===e.data.code:Qe.Z.snackbar({message:"面板删除成功",position:"right-top"}),setTimeout((()=>{location.reload()}),1e3);break}})).catch((e=>{Qe.Z.snackbar({message:e,position:"right-top"})}))},DelPanelBingEnv(){Ke().put("/v2/api/env/panel/unbind/update").then((e=>{switch(""!==e.data){case 2e3===e.data.code:Qe.Z.snackbar({message:"解绑成功",position:"right-top"}),setTimeout((()=>{location.reload()}),1e3);break}})).catch((e=>{Qe.Z.snackbar({message:e,position:"right-top"})}))},UpdatePanel(){Ke().put("/v2/api/env/panel/update",this.UpdatePanelData).then((e=>{switch(""!==e.data){case 2e3===e.data.code:Qe.Z.snackbar({message:"面板修改成功",position:"right-top"}),setTimeout((()=>{location.reload()}),1e3);break}})).catch((e=>{Qe.Z.snackbar({message:e,position:"right-top"})}))},CheckPanelSuccess(e,a,i){Ke().post("/v2/api/panel/connect",{url:e,id:a,secret:i}).then((e=>{switch(""!==e.data){case 2e3===e.data.code:Qe.Z.snackbar({message:"连接测试成功",position:"right-top"});break;case 5014===e.data.code:Qe.Z.snackbar({message:e.data.msg,position:"right-top"});break;case 5003===e.data.code:Qe.Z.snackbar({message:"服务繁忙, 可能是URL地址错误",position:"right-top"});break;case 5002===e.data.code:""===e.data.data?Qe.Z.snackbar({message:"服务繁忙",position:"right-top"}):Qe.Z.snackbar({message:e.data.msg,position:"right-top"});break}})).catch((e=>{Qe.Z.snackbar({message:e,position:"right-top"})}))},GetEnvAll(){Ke().get("/v2/api/env/name/all").then((e=>{switch(""!==e.data){case 2e3===e.data.code:this.EnvAll=e.data.data;break}})).catch((e=>{Qe.Z.snackbar({message:e,position:"right-top"})}))},UpdatePanelBinding(e){let a=0;for(let i=0;i<this.EnvPanelData.length;i++)e===parseInt(this.EnvPanelData[i])&&(delete this.EnvPanelData[i],a+=1);0===a&&this.EnvPanelData.push(e)},SendPanelBinding(){let e=[];for(let a=0;a<this.EnvPanelData.length;a++)isNaN(this.EnvPanelData[a])||e.push(this.EnvPanelData[a].toString());Ke().put("/v2/api/env/panel/binding/update",{uid:this.EnvPanelDataID,envBinding:e}).then((e=>{switch(""!==e.data){case 2e3===e.data.code:Qe.Z.snackbar({message:"绑定修改成功",position:"right-top"}),setTimeout((()=>{location.reload()}),1500);break}})).catch((e=>{Qe.Z.snackbar({message:e,position:"right-top"})}))},UpdateAllPanelToken(){Ke().put("/v2/api/env/panel/token/update").then((e=>{switch(""!==e.data){case 2e3===e.data.code:Qe.Z.snackbar({message:"批量更新面板Token成功",position:"right-top"});break}})).catch((e=>{Qe.Z.snackbar({message:e,position:"right-top"})}))}},mounted(){this.GetAllPanelData()}},Je=i(3744);const Xe=(0,Je.Z)(Ye,[["render",Me]]);var $e=Xe,ea={name:"AdminPanelView",components:{AdminHeader:d.Z,AdminBar:s.Z,AdminFooter:o.Z,AdminPanelCom:$e},mounted(){window.innerWidth>=1e3&&document.body.classList.add("mdui-drawer-body-left")}};const aa=(0,Je.Z)(ea,[["render",n]]);var ia=aa}}]);
//# sourceMappingURL=345.a4af1b3f.js.map