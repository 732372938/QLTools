"use strict";(self["webpackChunkqltools"]=self["webpackChunkqltools"]||[]).push([[403],{8145:function(i,t,n){n.d(t,{Z:function(){return L}});var e=n(6252);const a=i=>((0,e.dD)("data-v-89b82692"),i=i(),(0,e.Cn)(),i),l={class:"mdui-drawer mdui-shadow-6",id:"main-drawer",style:{"box-sizing":"border-box"}},s={class:"mdui-list"},o=a((()=>(0,e._)("i",{class:"mdui-list-item-icon mdui-icon material-icons"},"desktop_mac",-1))),d=a((()=>(0,e._)("div",{class:"mdui-list-item-content"},"仪表盘",-1))),r=[o,d],m=a((()=>(0,e._)("i",{class:"mdui-list-item-icon mdui-icon material-icons"},"playlist_play",-1))),c=a((()=>(0,e._)("div",{class:"mdui-list-item-content"},"变量管理",-1))),u=[m,c],p=a((()=>(0,e._)("i",{class:"mdui-list-item-icon mdui-icon material-icons"},"apps",-1))),g=a((()=>(0,e._)("div",{class:"mdui-list-item-content"},"面板管理",-1))),_=[p,g],h=a((()=>(0,e._)("i",{class:"mdui-list-item-icon mdui-icon material-icons"},"local_play",-1))),v=a((()=>(0,e._)("div",{class:"mdui-list-item-content"},"插件管理",-1))),b=[h,v],k=a((()=>(0,e._)("i",{class:"mdui-list-item-icon mdui-icon material-icons"},"import_export",-1))),f=a((()=>(0,e._)("div",{class:"mdui-list-item-content"},"容器管理",-1))),w=[k,f],y=a((()=>(0,e._)("i",{class:"mdui-list-item-icon mdui-icon material-icons"},"sms",-1))),x=a((()=>(0,e._)("div",{class:"mdui-list-item-content"},"推送管理",-1))),C=[y,x],U=a((()=>(0,e._)("i",{class:"mdui-list-item-icon mdui-icon material-icons"},"settings",-1))),D=a((()=>(0,e._)("div",{class:"mdui-list-item-content"},"网站设置",-1))),A=[U,D],Z=a((()=>(0,e._)("a",{class:"mdui-list-item","mdui-drawer-close":""},[(0,e._)("i",{class:"mdui-list-item-icon mdui-icon material-icons"},"chevron_left"),(0,e._)("div",{class:"mdui-list-item-content"},"收起菜单")],-1)));function P(i,t,n,a,o,d){return(0,e.wg)(),(0,e.iD)("div",l,[(0,e._)("div",s,[(0,e._)("a",{onClick:t[0]||(t[0]=i=>this.OpenURL("/#/admin/")),class:"mdui-list-item"},r),(0,e._)("a",{onClick:t[1]||(t[1]=i=>this.OpenURL("/#/admin/env/")),class:"mdui-list-item"},u),(0,e._)("a",{onClick:t[2]||(t[2]=i=>this.OpenURL("/#/admin/panel/")),class:"mdui-list-item"},_),(0,e._)("a",{onClick:t[3]||(t[3]=i=>this.OpenURL("/#/admin/plugin/")),class:"mdui-list-item"},b),(0,e._)("a",{onClick:t[4]||(t[4]=i=>this.OpenURL("/#/admin/transfer/")),class:"mdui-list-item"},w),(0,e._)("a",{onClick:t[5]||(t[5]=i=>this.OpenURL("/#/admin/message/")),class:"mdui-list-item"},C),(0,e._)("a",{onClick:t[6]||(t[6]=i=>this.OpenURL("/#/admin/settings/")),class:"mdui-list-item"},A),Z])])}var F=n(4493),O={name:"AdminBar",methods:{changeStyle(){window.innerWidth>=1e3&&document.getElementById("main-drawer").classList.add("mdui-drawer-open");let i=document.querySelector("#container");i.style.minHeight=window.innerHeight-document.body.clientHeight+i.clientHeight+"px",F.Z.mutation()},OpenURL(i){window.open(i,"_self"),location.reload()}},mounted(){this.changeStyle()}},j=n(3744);const S=(0,j.Z)(O,[["render",P],["__scopeId","data-v-89b82692"]]);var L=S},3709:function(i,t,n){n.d(t,{Z:function(){return O}});var e=n(6252);const a=i=>((0,e.dD)("data-v-52858f53"),i=i(),(0,e.Cn)(),i),l={class:"mdui-m-t-5"},s={class:"mdui-p-a-5 mdui-typo mdui-container"},o={class:"mdui-row-sm-3"},d={class:"mdui-col mdui-text"},r=a((()=>(0,e._)("span",{id:"Copyright"},"Copyright © 2022 All rights reserved. ",-1))),m={href:"https://github.com/nuanxinqing123/QLTools"},c=(0,e.Uk)("青龙 Tools"),u=a((()=>(0,e._)("p",null,"简单便捷的第三方工具，给您带来不一样的体验！",-1))),p={class:"mdui-col mdui-text"},g=(0,e.Uk)("邮件联系: "),_={href:"mailto:nuanxinqing@gmail.com"},h=(0,e.Uk)("nuanxinqing@gmail.com"),v=(0,e.Uk)("电报联系: "),b={href:"https://t.me/Nuanxinqing"},k=(0,e.Uk)("@Nuanxinqing"),f={class:"mdui-col mdui-text"},w=(0,e.Uk)("电报频道: "),y={href:"https://t.me/qltool"},x=(0,e.Uk)("青龙Tools"),C=(0,e.Uk)("电报群组: "),U={href:"https://t.me/qltools"},D=(0,e.Uk)("青龙Tools吹水群");function A(i,t,n,a,A,Z){const P=(0,e.up)("st");return(0,e.wg)(),(0,e.iD)("footer",l,[(0,e._)("div",s,[(0,e._)("div",o,[(0,e._)("div",d,[(0,e._)("p",null,[r,(0,e._)("a",m,[(0,e.Wm)(P,null,{default:(0,e.w5)((()=>[c])),_:1})])]),u]),(0,e._)("div",p,[(0,e._)("p",null,[g,(0,e._)("a",_,[(0,e.Wm)(P,null,{default:(0,e.w5)((()=>[h])),_:1})])]),(0,e._)("p",null,[v,(0,e._)("a",b,[(0,e.Wm)(P,null,{default:(0,e.w5)((()=>[k])),_:1})])])]),(0,e._)("div",f,[(0,e._)("p",null,[w,(0,e._)("a",y,[(0,e.Wm)(P,null,{default:(0,e.w5)((()=>[x])),_:1})])]),(0,e._)("p",null,[C,(0,e._)("a",U,[(0,e.Wm)(P,null,{default:(0,e.w5)((()=>[D])),_:1})])])])])])])}var Z={name:"AdminFooter"},P=n(3744);const F=(0,P.Z)(Z,[["render",A],["__scopeId","data-v-52858f53"]]);var O=F},2743:function(i,t,n){n.d(t,{Z:function(){return b}});var e=n(6252);const a={class:"mdui-appbar mdui-appbar-fixed mdui-color-indigo-800"},l={class:"mdui-toolbar"},s=(0,e._)("a",{"mdui-tooltip":"{content: '菜单'}","mdui-drawer":"{target: '#main-drawer'}",class:"mdui-btn mdui-btn-icon"},[(0,e._)("i",{class:"mdui-icon material-icons"},"menu")],-1),o=(0,e._)("a",{href:"javascript:;",class:"mdui-typo-headline"},"Tools",-1),d=(0,e._)("div",{class:"mdui-toolbar-spacer"},null,-1),r=(0,e._)("i",{class:"mdui-icon material-icons"},"home",-1),m=[r],c=(0,e._)("a",{"mdui-tooltip":"{content: '刷新页面'}",href:"javascript:location.reload();",class:"mdui-btn mdui-btn-icon"},[(0,e._)("i",{class:"mdui-icon material-icons"},"refresh")],-1),u=(0,e._)("i",{class:"mdui-icon material-icons"},"exit_to_app",-1),p=[u];function g(i,t,n,r,u,g){return(0,e.wg)(),(0,e.iD)("header",a,[(0,e._)("div",l,[s,o,d,(0,e._)("a",{"mdui-tooltip":"{content: '前往首页'}",onClick:t[0]||(t[0]=(...i)=>g.GoIndex&&g.GoIndex(...i)),class:"mdui-btn mdui-btn-icon"},m),c,(0,e._)("a",{"mdui-tooltip":"{content: '退出登录'}",onClick:t[1]||(t[1]=i=>this.LogOut()),href:"javascript:;",class:"mdui-btn mdui-btn-icon",id:"LogOut"},p)])])}var _={name:"AdminHeader",methods:{LogOut(){console.log("退出登录"),localStorage.clear(),window.open("/#/","_self"),location.reload()},GoIndex(){window.open("/#/","_self"),location.reload()}}},h=n(3744);const v=(0,h.Z)(_,[["render",g]]);var b=v},6403:function(i,t,n){n.r(t),n.d(t,{default:function(){return R}});var e=n(6252);const a={class:"mdui-appbar-with-toolbar"};function l(i,t,n,l,s,o){const d=(0,e.up)("AdminHeader"),r=(0,e.up)("AdminBar"),m=(0,e.up)("AdminPluginCom"),c=(0,e.up)("AdminFooter");return(0,e.wg)(),(0,e.iD)("div",a,[(0,e.Wm)(d),(0,e.Wm)(r),(0,e.Wm)(m),(0,e.Wm)(c)])}var s=n(2743),o=n(8145),d=n(3709),r=n(3577);const m={id:"container",class:"mdui-container mdui-p-t-1",style:{"margin-top":"10px"}},c=(0,e.uE)('<div class="mdui-card mt" style="border-radius:15px;"><div class="mdui-card-primary"><div class="mdui-card-primary-title">插件管理</div><div class="mdui-card-primary-subtitle">Plugin Management</div></div><div class="mdui-card-content mdui-typo"><p class="text_s">插件是通过JavaScript的形式向变量模块附加鉴定的一个用户自主化控制的扩展部分</p><p class="text_s">插件管理允许管理员自行上传&amp;删除插件</p></div></div>',1),u={class:"mdui-card mt",style:{"border-radius":"15px","margin-top":"15px"}},p=(0,e._)("div",{class:"mdui-card-primary"},[(0,e._)("div",{class:"mdui-card-primary-title"},"插件列表"),(0,e._)("div",{class:"mdui-card-primary-subtitle"},"Plugin List")],-1),g=(0,e._)("div",{class:"mdui-card-menu"},[(0,e._)("button",{"mdui-dialog":"{target: '#pluginUpload'}",class:"mdui-btn mdui-btn-dense mdui-btn-raised btn mdui-p-x-1 mdui-color-blue-grey mdui-text-color-white"},[(0,e._)("i",{class:"mdui-icon mdui-icon-left material-icons"},"file_upload"),(0,e.Uk)("上传插件 ")])],-1),_={class:"mdui-table-fluid"},h={class:"mdui-table"},v=(0,e._)("thead",null,[(0,e._)("tr",null,[(0,e._)("th",null,"文件名称"),(0,e._)("th",null,"插件名称"),(0,e._)("th",null,"操作")])],-1),b=["onClick"],k={class:"mdui-card mt",style:{"border-radius":"15px","margin-top":"15px"}},f=(0,e._)("div",{class:"mdui-card-primary"},[(0,e._)("div",{class:"mdui-card-primary-title"},"插件开发模板"),(0,e._)("div",{class:"mdui-card-primary-subtitle"},"Plug Development Template")],-1),w={class:"mdui-card-content mdui-typo"},y={id:"pluginDel",class:"mdui-dialog"},x=(0,e._)("div",{class:"mdui-dialog-content"},"确认删除插件?",-1),C={class:"mdui-dialog-actions"},U=(0,e._)("button",{class:"mdui-btn mdui-ripple","mdui-dialog-close":""},"返回",-1),D={id:"pluginUpload",class:"mdui-dialog",style:{top:"210px",display:"none"}},A=(0,e._)("div",{class:"mdui-dialog-title"},"上传插件",-1),Z={class:"mdui-dialog-content mdui-typo",style:{height:"407px"}},P={class:"mdui-dialog-actions"},F=(0,e._)("div",{id:"SendOK",class:"mdui-dialog",style:{display:"none"}},[(0,e._)("div",{class:"mdui-dialog-title"},"上传提示"),(0,e._)("div",{class:"mdui-dialog-content"},"插件上传成功"),(0,e._)("div",{class:"mdui-dialog-actions"},[(0,e._)("button",{class:"mdui-btn mdui-ripple","mdui-dialog-close":""},"确认")])],-1);function O(i,t,n,a,l,s){const o=(0,e.up)("highlightjs");return(0,e.wg)(),(0,e.iD)("div",m,[c,(0,e._)("div",u,[p,g,(0,e._)("div",_,[(0,e._)("table",h,[v,(0,e._)("tbody",null,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(l.JsAll,(i=>((0,e.wg)(),(0,e.iD)("tr",{key:i},[(0,e._)("th",null,(0,r.zw)(i.FileName),1),(0,e._)("th",null,(0,r.zw)(i.FileIDName),1),(0,e._)("th",null,[(0,e._)("button",{onClick:t=>s.OpenPluginDel(i.FileName),class:"mdui-btn mdui-btn-dense mdui-btn-raised btn mdui-p-x-1 mdui-color-red mdui-text-color-white"}," 删除插件 ",8,b)])])))),128))])])])]),(0,e._)("div",k,[f,(0,e._)("div",w,[(0,e.Wm)(o,{language:"javascript",code:'// [name:Cookie检测（demo 插件开发演示）]\r\n\r\n// 第一行为插件名称， 在后台显示的使用会用到\r\n\r\n// 封装Request方法 & 参数\r\n// request({\r\n//     // 请求方式（默认get）\r\n//     "method": "get",\r\n//     // 请求地址\r\n//     "url": "https://me-api.jd.com/user_new/info/GetJDUserInfoUnion",\r\n//     // 数据类型（返回数据如果是JSON那么就需要指定为json，否则默认为location）\r\n//     "dataType": "",\r\n//     // 请求头\r\n//     "headers": {\r\n//         "Cookie": env,\r\n//         "User-Agent": "jdapp;iPhone;9.4.4;14.3;network/4g;Mozilla/5.0 (iPhone; CPU iPhone OS 14_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E148;supportJDSHWK/1",\r\n//         "Referer": "https://h5.m.jd.com/"\r\n//     },\r\n//     // 请求体(body为json请求体， 二选一即可)\r\n//     "body": {},\r\n//     "formdata": {},\r\n//     // 自定义超时(单位：纳秒)(5 * 1000 = 5秒)\r\n//     "timeout": 5 * 1000\r\n// })\r\n\r\n// 返回数据格式\r\n// return {\r\n//      // 代表是否允许通过\r\n//     "bool": true,\r\n//      // 处理后的变量\r\n//     "env": env\r\n// }\r\n\r\n// 必须以main为函数名, env为传入变量\r\nfunction main(env) {\r\n    let result = request({\r\n        "method": "get",\r\n        "url": "https://plogin.m.jd.com/cgi-bin/ml/islogin",\r\n        "headers": {\r\n            "Cookie": env,\r\n            "User-Agent": "jdapp;iPhone;9.4.4;14.3;network/4g;Mozilla/5.0 (iPhone; CPU iPhone OS 14_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E148;supportJDSHWK/1",\r\n            "Referer": "https://h5.m.jd.com/"\r\n        },\r\n        "dataType": "json",\r\n        "timeout": 5 * 1000\r\n    })\r\n\r\n    if (result) {\r\n        // 判断是否过期\r\n        if (result["islogin"] === "1"){\r\n            // Cookie有效\r\n            return {\r\n                "bool": true,\r\n                "env": env\r\n            }\r\n        } else {\r\n            // Cookie无效\r\n            return {\r\n                "bool": false,\r\n                "env": "Cookie已失效"\r\n            }\r\n        }\r\n    } else {\r\n        return {\r\n            "bool": false,\r\n            "env": "请求失败"\r\n        }\r\n    }\r\n}'})])]),(0,e._)("div",y,[x,(0,e._)("div",C,[U,(0,e._)("button",{onClick:t[0]||(t[0]=i=>s.DelPlugin()),class:"mdui-btn mdui-ripple"},"删除")])]),(0,e._)("div",D,[A,(0,e._)("div",Z,[(0,e._)("input",{type:"file",onChange:t[1]||(t[1]=(...i)=>s.UpdateFile&&s.UpdateFile(...i)),id:"pluginFile",accept:"application/javascript"},null,32),(0,e._)("div",P,[(0,e._)("button",{onClick:t[2]||(t[2]=(...i)=>s.SendFile&&s.SendFile(...i)),class:"mdui-btn mdui-color-green-700 mdui-text-color-white btn","mdui-dialog-close":""}," 执行操作 ")])])]),F])}var j=n(9669),S=n.n(j),L=n(4493),W={name:"AdminPluginCom",data(){return{JsAll:[{FileName:"",FileIDName:""}],DelPluginName:{FileName:""},File:[]}},methods:{GetJsAll(){S().get("/v2/api/javascript/readall").then((i=>{this.JsAll=i.data.data})).catch((i=>{L.Z.snackbar({message:i,position:"right-top"})}))},OpenPluginDel(i){this.DelPluginName.FileName=i;let t=new L.Z.Dialog("#pluginDel");t.toggle()},DelPlugin(){S().post("/v2/api/javascript/delete",this.DelPluginName).then((i=>{switch(""!==i.data){case 2e3===i.data.code:L.Z.snackbar({message:"删除成功",position:"right-top"}),setTimeout((()=>{location.reload()}),1e3);break;case 5003===i.data.code:L.Z.snackbar({message:"服务繁忙",position:"right-top"});break;case 5027===i.data.code:L.Z.snackbar({message:"删除失败",position:"right-top"});break;case 5002===i.data.code:if(""===i.data.data){L.Z.snackbar({message:"服务繁忙,请稍后重试",position:"right-top"});break}L.Z.snackbar({message:JSON.parse(i.data.msg),position:"right-top"});break}})).catch((i=>{L.Z.snackbar({message:i,position:"right-top"})}))},UpdateFile(i){this.File=i.target.files[0]},SendFile(){let i=new L.Z.Dialog("#SendOK"),t=new FormData;t.append("file",this.File),S().post("/v2/api/javascript/upload",t).then((t=>{switch(""!==t.data){case 2e3===t.data.code:i.toggle(),setTimeout((()=>{location.reload()}),1e3);break;case 5003===t.data.code:L.Z.snackbar({message:t.data.msg,position:"right-top"});break}})).catch((i=>{L.Z.snackbar({message:i,position:"right-top"})}))}},mounted(){this.GetJsAll()}},N=n(3744);const q=(0,N.Z)(W,[["render",O]]);var H=q,T={name:"AdminPluginView",components:{AdminHeader:s.Z,AdminBar:o.Z,AdminFooter:d.Z,AdminPluginCom:H},mounted(){window.innerWidth>=1e3&&document.body.classList.add("mdui-drawer-body-left")}};const J=(0,N.Z)(T,[["render",l]]);var R=J}}]);
//# sourceMappingURL=403.b3d1725c.js.map