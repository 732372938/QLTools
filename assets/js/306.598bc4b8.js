"use strict";(self["webpackChunkqltools"]=self["webpackChunkqltools"]||[]).push([[306],{1918:function(i,t,e){e.d(t,{Z:function(){return T}});var n=e(6252);const a=i=>((0,n.dD)("data-v-11e0cc88"),i=i(),(0,n.Cn)(),i),l={class:"mdui-drawer mdui-shadow-6",id:"main-drawer",style:{"box-sizing":"border-box"}},s={class:"mdui-list"},d=a((()=>(0,n._)("i",{class:"mdui-list-item-icon mdui-icon material-icons"},"desktop_mac",-1))),o=a((()=>(0,n._)("div",{class:"mdui-list-item-content"},"仪表盘",-1))),r=[d,o],m=a((()=>(0,n._)("i",{class:"mdui-list-item-icon mdui-icon material-icons"},"playlist_play",-1))),c=a((()=>(0,n._)("div",{class:"mdui-list-item-content",active:""},"变量管理",-1))),u=[m,c],p=a((()=>(0,n._)("i",{class:"mdui-list-item-icon mdui-icon material-icons"},"apps",-1))),_=a((()=>(0,n._)("div",{class:"mdui-list-item-content"},"面板管理",-1))),g=[p,_],h=a((()=>(0,n._)("i",{class:"mdui-list-item-icon mdui-icon material-icons"},"local_play",-1))),v=a((()=>(0,n._)("div",{class:"mdui-list-item-content"},"插件管理",-1))),b=[h,v],k=a((()=>(0,n._)("i",{class:"mdui-list-item-icon mdui-icon material-icons"},"import_export",-1))),f=a((()=>(0,n._)("div",{class:"mdui-list-item-content"},"容器管理",-1))),w=[k,f],y=a((()=>(0,n._)("i",{class:"mdui-list-item-icon mdui-icon material-icons"},"credit_card",-1))),x=a((()=>(0,n._)("div",{class:"mdui-list-item-content"},"CDK管理",-1))),C=[y,x],U=a((()=>(0,n._)("i",{class:"mdui-list-item-icon mdui-icon material-icons"},"sms",-1))),D=a((()=>(0,n._)("div",{class:"mdui-list-item-content"},"推送管理",-1))),F=[U,D],A=a((()=>(0,n._)("i",{class:"mdui-list-item-icon mdui-icon material-icons"},"settings",-1))),O=a((()=>(0,n._)("div",{class:"mdui-list-item-content"},"网站设置",-1))),P=[A,O],Z=a((()=>(0,n._)("i",{class:"mdui-list-item-icon mdui-icon material-icons"},"attach_money",-1))),j=a((()=>(0,n._)("div",{class:"mdui-list-item-content"},"关于面板",-1))),L=[Z,j],S=a((()=>(0,n._)("a",{class:"mdui-list-item","mdui-drawer-close":""},[(0,n._)("i",{class:"mdui-list-item-icon mdui-icon material-icons mdui-ripple"},"chevron_left"),(0,n._)("div",{class:"mdui-list-item-content"},"收起菜单")],-1)));function R(i,t,e,a,d,o){return(0,n.wg)(),(0,n.iD)("div",l,[(0,n._)("div",s,[(0,n._)("a",{onClick:t[0]||(t[0]=i=>this.OpenURL("/#/admin/")),class:"mdui-list-item mdui-ripple"},r),(0,n._)("a",{onClick:t[1]||(t[1]=i=>this.OpenURL("/#/admin/env/")),class:"mdui-list-item mdui-ripple"},u),(0,n._)("a",{onClick:t[2]||(t[2]=i=>this.OpenURL("/#/admin/panel/")),class:"mdui-list-item mdui-ripple"},g),(0,n._)("a",{onClick:t[3]||(t[3]=i=>this.OpenURL("/#/admin/plugin/")),class:"mdui-list-item mdui-ripple"},b),(0,n._)("a",{onClick:t[4]||(t[4]=i=>this.OpenURL("/#/admin/transfer/")),class:"mdui-list-item mdui-ripple"},w),(0,n._)("a",{onClick:t[5]||(t[5]=i=>this.OpenURL("/#/admin/cdk/")),class:"mdui-list-item mdui-ripple"},C),(0,n._)("a",{onClick:t[6]||(t[6]=i=>this.OpenURL("/#/admin/message/")),class:"mdui-list-item mdui-ripple"},F),(0,n._)("a",{onClick:t[7]||(t[7]=i=>this.OpenURL("/#/admin/settings/")),class:"mdui-list-item mdui-ripple"},P),(0,n._)("a",{onClick:t[8]||(t[8]=i=>this.OpenURL("/#/admin/about/")),class:"mdui-list-item mdui-ripple"},L),S])])}var W=e(4493),q={name:"AdminBar",methods:{changeStyle(){window.innerWidth>=1e3&&document.getElementById("main-drawer").classList.add("mdui-drawer-open");let i=document.querySelector("#container");i.style.minHeight=window.innerHeight-document.body.clientHeight+i.clientHeight+"px",W.Z.mutation()},OpenURL(i){window.open(i,"_self"),location.reload()}},mounted(){this.changeStyle()}},N=e(3744);const H=(0,N.Z)(q,[["render",R],["__scopeId","data-v-11e0cc88"]]);var T=H},950:function(i,t,e){e.d(t,{Z:function(){return Z}});var n=e(6252);const a=i=>((0,n.dD)("data-v-051e9a76"),i=i(),(0,n.Cn)(),i),l={class:"mdui-m-t-5"},s={class:"mdui-p-a-5 mdui-typo mdui-container"},d={class:"mdui-row-sm-3"},o={class:"mdui-col mdui-text"},r=a((()=>(0,n._)("span",{id:"Copyright"},"Copyright © 2022 All rights reserved. ",-1))),m={href:"https://github.com/nuanxinqing123/QLTools"},c=(0,n.Uk)("青龙 Tools"),u=a((()=>(0,n._)("p",null,"简单便捷的第三方工具，给您带来不一样的体验！",-1))),p={class:"mdui-col mdui-text"},_=(0,n.Uk)("QQ交流: "),g={href:"https://jq.qq.com/?_wv=1027&k=BV2RgQaP"},h=(0,n.Uk)("进来吹水"),v=(0,n.Uk)("电报联系: "),b={href:"https://t.me/Nuanxinqing"},k=(0,n.Uk)("@Nuanxinqing"),f={class:"mdui-col mdui-text"},w=(0,n.Uk)("电报频道: "),y={href:"https://t.me/qltool"},x=(0,n.Uk)("青龙Tools"),C=(0,n.Uk)("电报群组: "),U={href:"https://t.me/qltools"},D=(0,n.Uk)("青龙Tools吹水群");function F(i,t,e,a,F,A){const O=(0,n.up)("st");return(0,n.wg)(),(0,n.iD)("footer",l,[(0,n._)("div",s,[(0,n._)("div",d,[(0,n._)("div",o,[(0,n._)("p",null,[r,(0,n._)("a",m,[(0,n.Wm)(O,null,{default:(0,n.w5)((()=>[c])),_:1})])]),u]),(0,n._)("div",p,[(0,n._)("p",null,[_,(0,n._)("a",g,[(0,n.Wm)(O,null,{default:(0,n.w5)((()=>[h])),_:1})])]),(0,n._)("p",null,[v,(0,n._)("a",b,[(0,n.Wm)(O,null,{default:(0,n.w5)((()=>[k])),_:1})])])]),(0,n._)("div",f,[(0,n._)("p",null,[w,(0,n._)("a",y,[(0,n.Wm)(O,null,{default:(0,n.w5)((()=>[x])),_:1})])]),(0,n._)("p",null,[C,(0,n._)("a",U,[(0,n.Wm)(O,null,{default:(0,n.w5)((()=>[D])),_:1})])])])])])])}var A={name:"AdminFooter"},O=e(3744);const P=(0,O.Z)(A,[["render",F],["__scopeId","data-v-051e9a76"]]);var Z=P},8330:function(i,t,e){e.d(t,{Z:function(){return b}});var n=e(6252);const a={class:"mdui-appbar mdui-appbar-fixed mdui-color-indigo-800"},l={class:"mdui-toolbar"},s=(0,n._)("a",{"mdui-tooltip":"{content: '菜单'}","mdui-drawer":"{target: '#main-drawer'}",class:"mdui-btn mdui-btn-icon mdui-ripple"},[(0,n._)("i",{class:"mdui-icon material-icons"},"menu")],-1),d=(0,n._)("a",{href:"javascript:;",class:"mdui-typo-headline"},"Tools",-1),o=(0,n._)("div",{class:"mdui-toolbar-spacer"},null,-1),r=(0,n._)("i",{class:"mdui-icon material-icons"},"home",-1),m=[r],c=(0,n._)("a",{"mdui-tooltip":"{content: '刷新页面'}",href:"javascript:location.reload();",class:"mdui-btn mdui-btn-icon mdui-ripple"},[(0,n._)("i",{class:"mdui-icon material-icons"},"refresh")],-1),u=(0,n._)("i",{class:"mdui-icon material-icons"},"exit_to_app",-1),p=[u];function _(i,t,e,r,u,_){return(0,n.wg)(),(0,n.iD)("header",a,[(0,n._)("div",l,[s,d,o,(0,n._)("a",{"mdui-tooltip":"{content: '前往首页'}",onClick:t[0]||(t[0]=(...i)=>_.GoIndex&&_.GoIndex(...i)),class:"mdui-btn mdui-btn-icon mdui-ripple"},m),c,(0,n._)("a",{"mdui-tooltip":"{content: '退出登录'}",onClick:t[1]||(t[1]=i=>this.LogOut()),href:"javascript:;",class:"mdui-btn mdui-btn-icon mdui-ripple",id:"LogOut"},p)])])}var g={name:"AdminHeader",methods:{LogOut(){console.log("退出登录"),localStorage.clear(),window.open("/#/","_self"),location.reload()},GoIndex(){window.open("/#/","_self"),location.reload()}}},h=e(3744);const v=(0,h.Z)(g,[["render",_]]);var b=v},1306:function(i,t,e){e.r(t),e.d(t,{default:function(){return J}});var n=e(6252);const a={class:"mdui-appbar-with-toolbar"};function l(i,t,e,l,s,d){const o=(0,n.up)("AdminHeader"),r=(0,n.up)("AdminBar"),m=(0,n.up)("AdminPluginCom"),c=(0,n.up)("AdminFooter");return(0,n.wg)(),(0,n.iD)("div",a,[(0,n.Wm)(o),(0,n.Wm)(r),(0,n.Wm)(m),(0,n.Wm)(c)])}var s=e(8330),d=e(1918),o=e(950),r=e(3577);const m={id:"container",class:"mdui-container mdui-p-t-1",style:{"margin-top":"10px"}},c=(0,n.uE)('<div class="mdui-card mt" style="border-radius:15px;"><div class="mdui-card-primary"><div class="mdui-card-primary-title">插件管理</div><div class="mdui-card-primary-subtitle">Plugin Management</div></div><div class="mdui-card-content mdui-typo"><p class="text_s">插件是通过JavaScript的形式向变量模块附加鉴定的一个用户自主化控制的扩展部分</p><p class="text_s">插件管理允许管理员自行上传&amp;删除插件</p><p class="text_s">官方插件集合库：<a href="https://plugin.6b7.org/">https://plugin.6b7.org/</a></p><p class="text_s">官方插件集合库收集插件并非完全，管理员可自行寻找其他第三方集合库</p></div></div>',1),u={class:"mdui-card mt",style:{"border-radius":"15px","margin-top":"15px"}},p=(0,n._)("div",{class:"mdui-card-primary"},[(0,n._)("div",{class:"mdui-card-primary-title"},"插件列表"),(0,n._)("div",{class:"mdui-card-primary-subtitle"},"Plugin List")],-1),_=(0,n._)("div",{class:"mdui-card-menu"},[(0,n._)("button",{"mdui-dialog":"{target: '#pluginUpload'}",class:"mdui-ripple mdui-btn mdui-btn-dense mdui-btn-raised btn mdui-p-x-1 mdui-color-blue-grey mdui-text-color-white"},[(0,n._)("i",{class:"mdui-icon mdui-icon-left material-icons"},"file_upload"),(0,n.Uk)("上传插件 ")])],-1),g={class:"mdui-table-fluid"},h={class:"mdui-table"},v=(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",null,"文件名称"),(0,n._)("th",null,"插件名称"),(0,n._)("th",null,"操作")])],-1),b=["onClick"],k={class:"mdui-card mt",style:{"border-radius":"15px","margin-top":"15px"}},f=(0,n._)("div",{class:"mdui-card-primary"},[(0,n._)("div",{class:"mdui-card-primary-title"},"插件开发模板"),(0,n._)("div",{class:"mdui-card-primary-subtitle"},"Plug Development Template")],-1),w={class:"mdui-card-content mdui-typo"},y={id:"pluginDel",class:"mdui-dialog"},x=(0,n._)("div",{class:"mdui-dialog-content"},"确认删除插件?",-1),C={class:"mdui-dialog-actions"},U=(0,n._)("button",{class:"mdui-ripple mdui-btn mdui-ripple","mdui-dialog-close":""},"返回",-1),D={id:"pluginUpload",class:"mdui-dialog",style:{top:"210px",display:"none"}},F=(0,n._)("div",{class:"mdui-dialog-title"},"上传插件",-1),A={class:"mdui-dialog-content mdui-typo",style:{height:"407px"}},O={class:"mdui-dialog-actions"},P=(0,n._)("div",{id:"SendOK",class:"mdui-dialog",style:{display:"none"}},[(0,n._)("div",{class:"mdui-dialog-title"},"上传提示"),(0,n._)("div",{class:"mdui-dialog-content"},"插件上传成功"),(0,n._)("div",{class:"mdui-dialog-actions"},[(0,n._)("button",{class:"mdui-btn mdui-ripple","mdui-dialog-close":""},"确认")])],-1);function Z(i,t,e,a,l,s){const d=(0,n.up)("highlightjs");return(0,n.wg)(),(0,n.iD)("div",m,[c,(0,n._)("div",u,[p,_,(0,n._)("div",g,[(0,n._)("table",h,[v,(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(l.JsAll,(i=>((0,n.wg)(),(0,n.iD)("tr",{key:i},[(0,n._)("th",null,(0,r.zw)(i.FileName),1),(0,n._)("th",null,(0,r.zw)(i.FileIDName),1),(0,n._)("th",null,[(0,n._)("button",{onClick:t=>s.OpenPluginDel(i.FileName),class:"mdui-btn mdui-btn-dense mdui-btn-raised btn mdui-p-x-1 mdui-color-red mdui-text-color-white"}," 删除插件 ",8,b)])])))),128))])])])]),(0,n._)("div",k,[f,(0,n._)("div",w,[(0,n.Wm)(d,{language:"javascript",code:'// [name:Cookie检测（demo 插件开发演示）]\r\n\r\n// 第一行为插件名称， 在后台显示的使用会用到\r\n\r\n// 封装Request方法 & 参数\r\n// request({\r\n//     // 请求方式（默认get）\r\n//     "method": "get",\r\n//     // 请求地址\r\n//     "url": "https://me-api.jd.com/user_new/info/GetJDUserInfoUnion",\r\n//     // 数据类型（返回数据如果是JSON那么就需要指定为json，否则默认为location）\r\n//     "dataType": "",\r\n//     // 请求头\r\n//     "headers": {\r\n//         "Cookie": env,\r\n//         "User-Agent": "jdapp;iPhone;9.4.4;14.3;network/4g;Mozilla/5.0 (iPhone; CPU iPhone OS 14_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E148;supportJDSHWK/1",\r\n//         "Referer": "https://h5.m.jd.com/"\r\n//     },\r\n//     // 请求体(body为json请求体， 二选一即可)\r\n//     "body": {},\r\n//     "formdata": {},\r\n//     // 自定义超时(单位：纳秒)(5 * 1000 = 5秒)\r\n//     "timeout": 5 * 1000\r\n// })\r\n\r\n// ReFind方法 & 参数\r\n// ReFind(正则表达式, 待匹配数据) 返回：匹配结果列表（数组）\r\n// ReFind("pt_pin=.*?;", "pt_pin=xxx")\r\n\r\n// 返回数据格式\r\n// return {\r\n//      // 代表是否允许通过\r\n//     "bool": true,\r\n//      // 处理后的变量\r\n//     "env": env\r\n// }\r\n\r\n// 必须以main为函数名, env为传入变量\r\nfunction main(env) {\r\n    let result = request({\r\n        "method": "get",\r\n        "url": "https://plogin.m.jd.com/cgi-bin/ml/islogin",\r\n        "headers": {\r\n            "Cookie": env,\r\n            "User-Agent": "jdapp;iPhone;9.4.4;14.3;network/4g;Mozilla/5.0 (iPhone; CPU iPhone OS 14_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E148;supportJDSHWK/1",\r\n            "Referer": "https://h5.m.jd.com/"\r\n        },\r\n        "dataType": "json",\r\n        "timeout": 5 * 1000\r\n    })\r\n\r\n    if (result) {\r\n        // 判断是否过期\r\n        if (result["islogin"] === "1"){\r\n            // Cookie有效\r\n            return {\r\n                "bool": true,\r\n                "env": env\r\n            }\r\n        } else {\r\n            // Cookie无效\r\n            return {\r\n                "bool": false,\r\n                "env": "Cookie已失效"\r\n            }\r\n        }\r\n    } else {\r\n        return {\r\n            "bool": false,\r\n            "env": "请求失败"\r\n        }\r\n    }\r\n}'})])]),(0,n._)("div",y,[x,(0,n._)("div",C,[U,(0,n._)("button",{onClick:t[0]||(t[0]=i=>s.DelPlugin()),class:"mdui-ripple mdui-btn mdui-ripple"},"删除")])]),(0,n._)("div",D,[F,(0,n._)("div",A,[(0,n._)("input",{type:"file",onChange:t[1]||(t[1]=(...i)=>s.UpdateFile&&s.UpdateFile(...i)),id:"pluginFile",accept:"application/javascript"},null,32),(0,n._)("div",O,[(0,n._)("button",{onClick:t[2]||(t[2]=(...i)=>s.SendFile&&s.SendFile(...i)),class:"mdui-ripple mdui-btn mdui-color-green-700 mdui-text-color-white btn","mdui-dialog-close":""}," 执行操作 ")])])]),P])}var j=e(9669),L=e.n(j),S=e(4493),R={name:"AdminPluginCom",data(){return{JsAll:[{FileName:"",FileIDName:""}],DelPluginName:{FileName:""},File:[]}},methods:{GetJsAll(){L().get("/v2/api/javascript/readall").then((i=>{this.JsAll=i.data.data})).catch((i=>{S.Z.snackbar({message:i,position:"right-top"})}))},OpenPluginDel(i){this.DelPluginName.FileName=i;let t=new S.Z.Dialog("#pluginDel");t.toggle()},DelPlugin(){L().post("/v2/api/javascript/delete",this.DelPluginName).then((i=>{switch(""!==i.data){case 2e3===i.data.code:S.Z.snackbar({message:"删除成功",position:"right-top"}),setTimeout((()=>{location.reload()}),1e3);break;case 5003===i.data.code:S.Z.snackbar({message:"服务繁忙",position:"right-top"});break;case 5027===i.data.code:S.Z.snackbar({message:"删除失败",position:"right-top"});break;case 5002===i.data.code:if(""===i.data.data){S.Z.snackbar({message:"服务繁忙,请稍后重试",position:"right-top"});break}S.Z.snackbar({message:JSON.parse(i.data.msg),position:"right-top"});break}})).catch((i=>{S.Z.snackbar({message:i,position:"right-top"})}))},UpdateFile(i){this.File=i.target.files[0]},SendFile(){let i=new S.Z.Dialog("#SendOK"),t=new FormData;t.append("file",this.File),L().post("/v2/api/javascript/upload",t).then((t=>{switch(""!==t.data){case 2e3===t.data.code:i.toggle(),setTimeout((()=>{location.reload()}),1e3);break;case 5003===t.data.code:S.Z.snackbar({message:t.data.msg,position:"right-top"});break}})).catch((i=>{S.Z.snackbar({message:i,position:"right-top"})}))}},mounted(){this.GetJsAll()}},W=e(3744);const q=(0,W.Z)(R,[["render",Z]]);var N=q,H={name:"AdminPluginView",components:{AdminHeader:s.Z,AdminBar:d.Z,AdminFooter:o.Z,AdminPluginCom:N},mounted(){window.innerWidth>=1e3&&document.body.classList.add("mdui-drawer-body-left")}};const T=(0,W.Z)(H,[["render",l]]);var J=T}}]);
//# sourceMappingURL=306.598bc4b8.js.map