"use strict";(self["webpackChunkqltools"]=self["webpackChunkqltools"]||[]).push([[657],{1918:function(i,t,e){e.d(t,{Z:function(){return B}});var a=e(6252);const d=i=>((0,a.dD)("data-v-11e0cc88"),i=i(),(0,a.Cn)(),i),s={class:"mdui-drawer mdui-shadow-6",id:"main-drawer",style:{"box-sizing":"border-box"}},n={class:"mdui-list"},l=d((()=>(0,a._)("i",{class:"mdui-list-item-icon mdui-icon material-icons"},"desktop_mac",-1))),o=d((()=>(0,a._)("div",{class:"mdui-list-item-content"},"仪表盘",-1))),c=[l,o],m=d((()=>(0,a._)("i",{class:"mdui-list-item-icon mdui-icon material-icons"},"playlist_play",-1))),r=d((()=>(0,a._)("div",{class:"mdui-list-item-content",active:""},"变量管理",-1))),u=[m,r],p=d((()=>(0,a._)("i",{class:"mdui-list-item-icon mdui-icon material-icons"},"apps",-1))),_=d((()=>(0,a._)("div",{class:"mdui-list-item-content"},"面板管理",-1))),h=[p,_],g=d((()=>(0,a._)("i",{class:"mdui-list-item-icon mdui-icon material-icons"},"local_play",-1))),w=d((()=>(0,a._)("div",{class:"mdui-list-item-content"},"插件管理",-1))),b=[g,w],v=d((()=>(0,a._)("i",{class:"mdui-list-item-icon mdui-icon material-icons"},"import_export",-1))),f=d((()=>(0,a._)("div",{class:"mdui-list-item-content"},"容器管理",-1))),k=[v,f],x=d((()=>(0,a._)("i",{class:"mdui-list-item-icon mdui-icon material-icons"},"credit_card",-1))),y=d((()=>(0,a._)("div",{class:"mdui-list-item-content"},"CDK管理",-1))),U=[x,y],D=d((()=>(0,a._)("i",{class:"mdui-list-item-icon mdui-icon material-icons"},"sms",-1))),A=d((()=>(0,a._)("div",{class:"mdui-list-item-content"},"推送管理",-1))),Z=[D,A],C=d((()=>(0,a._)("i",{class:"mdui-list-item-icon mdui-icon material-icons"},"settings",-1))),R=d((()=>(0,a._)("div",{class:"mdui-list-item-content"},"网站设置",-1))),L=[C,R],I=d((()=>(0,a._)("i",{class:"mdui-list-item-icon mdui-icon material-icons"},"attach_money",-1))),P=d((()=>(0,a._)("div",{class:"mdui-list-item-content"},"关于面板",-1))),S=[I,P],O=d((()=>(0,a._)("a",{class:"mdui-list-item","mdui-drawer-close":""},[(0,a._)("i",{class:"mdui-list-item-icon mdui-icon material-icons mdui-ripple"},"chevron_left"),(0,a._)("div",{class:"mdui-list-item-content"},"收起菜单")],-1)));function W(i,t,e,d,l,o){return(0,a.wg)(),(0,a.iD)("div",s,[(0,a._)("div",n,[(0,a._)("a",{onClick:t[0]||(t[0]=i=>this.OpenURL("/#/admin/")),class:"mdui-list-item mdui-ripple"},c),(0,a._)("a",{onClick:t[1]||(t[1]=i=>this.OpenURL("/#/admin/env/")),class:"mdui-list-item mdui-ripple"},u),(0,a._)("a",{onClick:t[2]||(t[2]=i=>this.OpenURL("/#/admin/panel/")),class:"mdui-list-item mdui-ripple"},h),(0,a._)("a",{onClick:t[3]||(t[3]=i=>this.OpenURL("/#/admin/plugin/")),class:"mdui-list-item mdui-ripple"},b),(0,a._)("a",{onClick:t[4]||(t[4]=i=>this.OpenURL("/#/admin/transfer/")),class:"mdui-list-item mdui-ripple"},k),(0,a._)("a",{onClick:t[5]||(t[5]=i=>this.OpenURL("/#/admin/cdk/")),class:"mdui-list-item mdui-ripple"},U),(0,a._)("a",{onClick:t[6]||(t[6]=i=>this.OpenURL("/#/admin/message/")),class:"mdui-list-item mdui-ripple"},Z),(0,a._)("a",{onClick:t[7]||(t[7]=i=>this.OpenURL("/#/admin/settings/")),class:"mdui-list-item mdui-ripple"},L),(0,a._)("a",{onClick:t[8]||(t[8]=i=>this.OpenURL("/#/admin/about/")),class:"mdui-list-item mdui-ripple"},S),O])])}var q=e(4493),G={name:"AdminBar",methods:{changeStyle(){window.innerWidth>=1e3&&document.getElementById("main-drawer").classList.add("mdui-drawer-open");let i=document.querySelector("#container");i.style.minHeight=window.innerHeight-document.body.clientHeight+i.clientHeight+"px",q.Z.mutation()},OpenURL(i){window.open(i,"_self"),location.reload()}},mounted(){this.changeStyle()}},T=e(3744);const H=(0,T.Z)(G,[["render",W],["__scopeId","data-v-11e0cc88"]]);var B=H},950:function(i,t,e){e.d(t,{Z:function(){return I}});var a=e(6252);const d=i=>((0,a.dD)("data-v-051e9a76"),i=i(),(0,a.Cn)(),i),s={class:"mdui-m-t-5"},n={class:"mdui-p-a-5 mdui-typo mdui-container"},l={class:"mdui-row-sm-3"},o={class:"mdui-col mdui-text"},c=d((()=>(0,a._)("span",{id:"Copyright"},"Copyright © 2022 All rights reserved. ",-1))),m={href:"https://github.com/nuanxinqing123/QLTools"},r=(0,a.Uk)("青龙 Tools"),u=d((()=>(0,a._)("p",null,"简单便捷的第三方工具，给您带来不一样的体验！",-1))),p={class:"mdui-col mdui-text"},_=(0,a.Uk)("QQ交流: "),h={href:"https://jq.qq.com/?_wv=1027&k=BV2RgQaP"},g=(0,a.Uk)("进来吹水"),w=(0,a.Uk)("电报联系: "),b={href:"https://t.me/Nuanxinqing"},v=(0,a.Uk)("@Nuanxinqing"),f={class:"mdui-col mdui-text"},k=(0,a.Uk)("电报频道: "),x={href:"https://t.me/qltool"},y=(0,a.Uk)("青龙Tools"),U=(0,a.Uk)("电报群组: "),D={href:"https://t.me/qltools"},A=(0,a.Uk)("青龙Tools吹水群");function Z(i,t,e,d,Z,C){const R=(0,a.up)("st");return(0,a.wg)(),(0,a.iD)("footer",s,[(0,a._)("div",n,[(0,a._)("div",l,[(0,a._)("div",o,[(0,a._)("p",null,[c,(0,a._)("a",m,[(0,a.Wm)(R,null,{default:(0,a.w5)((()=>[r])),_:1})])]),u]),(0,a._)("div",p,[(0,a._)("p",null,[_,(0,a._)("a",h,[(0,a.Wm)(R,null,{default:(0,a.w5)((()=>[g])),_:1})])]),(0,a._)("p",null,[w,(0,a._)("a",b,[(0,a.Wm)(R,null,{default:(0,a.w5)((()=>[v])),_:1})])])]),(0,a._)("div",f,[(0,a._)("p",null,[k,(0,a._)("a",x,[(0,a.Wm)(R,null,{default:(0,a.w5)((()=>[y])),_:1})])]),(0,a._)("p",null,[U,(0,a._)("a",D,[(0,a.Wm)(R,null,{default:(0,a.w5)((()=>[A])),_:1})])])])])])])}var C={name:"AdminFooter"},R=e(3744);const L=(0,R.Z)(C,[["render",Z],["__scopeId","data-v-051e9a76"]]);var I=L},8330:function(i,t,e){e.d(t,{Z:function(){return b}});var a=e(6252);const d={class:"mdui-appbar mdui-appbar-fixed mdui-color-indigo-800"},s={class:"mdui-toolbar"},n=(0,a._)("a",{"mdui-tooltip":"{content: '菜单'}","mdui-drawer":"{target: '#main-drawer'}",class:"mdui-btn mdui-btn-icon mdui-ripple"},[(0,a._)("i",{class:"mdui-icon material-icons"},"menu")],-1),l=(0,a._)("a",{href:"javascript:;",class:"mdui-typo-headline"},"Tools",-1),o=(0,a._)("div",{class:"mdui-toolbar-spacer"},null,-1),c=(0,a._)("i",{class:"mdui-icon material-icons"},"home",-1),m=[c],r=(0,a._)("a",{"mdui-tooltip":"{content: '刷新页面'}",href:"javascript:location.reload();",class:"mdui-btn mdui-btn-icon mdui-ripple"},[(0,a._)("i",{class:"mdui-icon material-icons"},"refresh")],-1),u=(0,a._)("i",{class:"mdui-icon material-icons"},"exit_to_app",-1),p=[u];function _(i,t,e,c,u,_){return(0,a.wg)(),(0,a.iD)("header",d,[(0,a._)("div",s,[n,l,o,(0,a._)("a",{"mdui-tooltip":"{content: '前往首页'}",onClick:t[0]||(t[0]=(...i)=>_.GoIndex&&_.GoIndex(...i)),class:"mdui-btn mdui-btn-icon mdui-ripple"},m),r,(0,a._)("a",{"mdui-tooltip":"{content: '退出登录'}",onClick:t[1]||(t[1]=i=>this.LogOut()),href:"javascript:;",class:"mdui-btn mdui-btn-icon mdui-ripple",id:"LogOut"},p)])])}var h={name:"AdminHeader",methods:{LogOut(){console.log("退出登录"),localStorage.clear(),window.open("/#/","_self"),location.reload()},GoIndex(){window.open("/#/","_self"),location.reload()}}},g=e(3744);const w=(0,g.Z)(h,[["render",_]]);var b=w},9657:function(i,t,e){e.r(t),e.d(t,{default:function(){return wi}});var a=e(6252);const d={class:"mdui-appbar-with-toolbar"};function s(i,t,e,s,n,l){const o=(0,a.up)("AdminHeader"),c=(0,a.up)("AdminBar"),m=(0,a.up)("AdminCom"),r=(0,a.up)("AdminFooter");return(0,a.wg)(),(0,a.iD)("div",d,[(0,a.Wm)(o),(0,a.Wm)(c),(0,a.Wm)(m),(0,a.Wm)(r)])}var n=e(8330),l=e(1918),o=e(950),c=e(3577),m=e(9963);const r={id:"container",class:"mdui-container mdui-p-t-1",style:{"margin-top":"10px"}},u={class:"mdui-card mt",style:{"border-radius":"15px"}},p=(0,a._)("div",{class:"mdui-card-primary"},[(0,a._)("div",{class:"mdui-card-primary-title"},"管理中心"),(0,a._)("div",{class:"mdui-card-primary-subtitle"},"Admin Center")],-1),_={class:"mdui-card-menu"},h=(0,a._)("i",{class:"mdui-icon mdui-icon-left material-icons"},"settings",-1),g=(0,a.Uk)("账号设置 "),w=[h,g],b={class:"mdui-card-content mdui-typo"},v={class:"text"},f=(0,a.Uk)("欢迎回来, "),k=(0,a._)("p",{class:"text_s"},[(0,a.Uk)("Tip: 遇到问题可以前往"),(0,a._)("a",{href:"https://github.com/nuanxinqing123/QLTools"},"Github"),(0,a.Uk)("反馈问题哦")],-1),x=(0,a._)("p",{class:"text_s"},"在线更新（仅支持Linux）: 为了适配Docker，仅提供三种版本的在线更新。如何选择？ x86 架构选amd64，arm 架构选 arm64，其他设备选arm-7",-1),y={class:"mdui-float-right",style:{"margin-right":"15px","margin-top":"15px","margin-bottom":"15px"}},U=(0,a._)("i",{class:"mdui-icon mdui-icon-left material-icons"},"update",-1),D=(0,a.Uk)("检查版本 "),A=[U,D],Z={id:"pwd",class:"mdui-dialog",style:{top:"210px",display:"none"}},C=(0,a._)("div",{class:"mdui-dialog-title"},"修改管理员密码",-1),R={class:"mdui-dialog-content mdui-typo",style:{height:"407px"}},L={class:"mdui-textfield"},I=(0,a._)("label",{class:"mdui-textfield-label"},"旧密码",-1),P={class:"mdui-textfield"},S=(0,a._)("label",{class:"mdui-textfield-label"},"修改管理员邮箱",-1),O={class:"mdui-textfield"},W=(0,a._)("label",{class:"mdui-textfield-label"},"修改密码",-1),q={class:"mdui-textfield"},G=(0,a._)("label",{class:"mdui-textfield-label"},"确认密码",-1),T=(0,a._)("div",{class:"mdui-dialog-actions"},[(0,a._)("button",{class:"mdui-btn mdui-color-green-700 mdui-text-color-white btn"},[(0,a._)("i",{class:"mdui-icon mdui-icon-left material-icons"},"check"),(0,a.Uk)("确认修改 ")])],-1),H={class:"mdui-card mt",style:{"border-radius":"15px","margin-top":"15px"}},B=(0,a._)("div",{class:"mdui-card-primary"},[(0,a._)("div",{class:"mdui-card-primary-title"},"最近登录"),(0,a._)("div",{class:"mdui-card-primary-subtitle"},"Recent Login")],-1),M={class:"mdui-table-fluid"},V={class:"mdui-table"},N=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",null,"登陆时间"),(0,a._)("th",null,"登录地址"),(0,a._)("th",null,"登录IP"),(0,a._)("th",null,"登录状态")])],-1),z={key:0,style:{color:"green"}},Q={key:1,style:{color:"red"}},j={id:"version",class:"mdui-dialog",style:{top:"210px",display:"none"}},E={class:"mdui-dialog-title"},F={class:"mdui-dialog-content mdui-typo",style:{height:"407px"}},K=(0,a._)("div",{id:"Notice"},null,-1),Y={class:"mdui-dialog-actions"},J={id:"github"},X=(0,a.Uk)(" 处理器架构： "),$=(0,a._)("option",null,"amd64",-1),ii=(0,a._)("option",null,"arm64",-1),ti=(0,a._)("option",null,"arm-7",-1),ei=[$,ii,ti],ai=(0,a.Uk)("  "),di=(0,a.Uk)("  "),si=(0,a._)("a",{href:"https://github.com/nuanxinqing123/QLTools/releases"},[(0,a._)("button",{class:"mdui-ripple mdui-btn mdui-color-green-700 mdui-text-color-white btn"}," 前往仓库 ")],-1),ni=(0,a._)("button",{class:"mdui-ripple mdui-btn mdui-color-blue-700 mdui-text-color-white btn","mdui-dialog-close":""}," 关闭通知 ",-1);function li(i,t,e,d,s,n){const l=(0,a.up)("st");return(0,a.wg)(),(0,a.iD)("div",r,[(0,a._)("div",u,[p,(0,a._)("div",_,[(0,a._)("button",{onClick:t[0]||(t[0]=i=>n.OpenDialog()),"mdui-tooltip":"{content:'修改密码'}",class:"mdui-ripple mdui-btn mdui-btn-dense mdui-btn-raised btn mdui-p-x-1 mdui-color-blue-grey mdui-text-color-white"},w)]),(0,a._)("div",b,[(0,a._)("p",v,[f,(0,a.Wm)(l,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,c.zw)(s.AdminInfo),1)])),_:1})]),k,x]),(0,a._)("div",y,[(0,a._)("button",{onClick:t[1]||(t[1]=(...i)=>n.GetUpdate&&n.GetUpdate(...i)),class:"mdui-ripple mdui-btn mdui-btn-dense mdui-btn-raised btn mdui-p-x-1 mdui-color-green-700 mdui-text-color-white"},A)])]),(0,a._)("div",Z,[C,(0,a._)("div",R,[(0,a._)("form",{onSubmit:t[6]||(t[6]=(0,m.iM)(((...i)=>n.changeAdPwd&&n.changeAdPwd(...i)),["prevent"]))},[(0,a._)("div",L,[I,(0,a.wy)((0,a._)("input",{class:"mdui-textfield-input",type:"text",id:"old_password",placeholder:"必填","onUpdate:modelValue":t[2]||(t[2]=i=>s.RePwdData.old_password=i)},null,512),[[m.nr,s.RePwdData.old_password]])]),(0,a._)("div",P,[S,(0,a.wy)((0,a._)("input",{class:"mdui-textfield-input",type:"text",id:"email",placeholder:"如果不修改请忽略（选填）","onUpdate:modelValue":t[3]||(t[3]=i=>s.RePwdData.email=i)},null,512),[[m.nr,s.RePwdData.email]])]),(0,a._)("div",O,[W,(0,a.wy)((0,a._)("input",{class:"mdui-textfield-input",type:"text",id:"password",placeholder:"必填","onUpdate:modelValue":t[4]||(t[4]=i=>s.RePwdData.password=i)},null,512),[[m.nr,s.RePwdData.password]])]),(0,a._)("div",q,[G,(0,a.wy)((0,a._)("input",{class:"mdui-textfield-input",type:"text",id:"re_password",placeholder:"必填","onUpdate:modelValue":t[5]||(t[5]=i=>s.RePwdData.re_password=i)},null,512),[[m.nr,s.RePwdData.re_password]])]),T],32)])]),(0,a._)("div",H,[B,(0,a._)("div",M,[(0,a._)("table",V,[N,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.IPData,(i=>((0,a.wg)(),(0,a.iD)("tr",{key:i},[(0,a._)("th",null,(0,c.zw)(i.login_time),1),(0,a._)("th",null,(0,c.zw)(i.ip_address),1),(0,a._)("th",null,(0,c.zw)(i.ip),1),!0===i.if_ok?((0,a.wg)(),(0,a.iD)("th",z,"成功")):((0,a.wg)(),(0,a.iD)("th",Q,"失败"))])))),128))])])])]),(0,a._)("div",j,[(0,a._)("div",E,"检查版本【本地版本："+(0,c.zw)(this.UpdateSoft.Version)+"】",1),(0,a._)("div",F,[K,(0,a._)("div",Y,[(0,a._)("span",J,[X,(0,a._)("select",{class:"mdui-select",onChange:t[7]||(t[7]=i=>n.ChangeUpdateARM(i)),id:"cpu_select"},ei,32),ai,(0,a._)("button",{onClick:t[8]||(t[8]=(...i)=>n.SendUpdateSW&&n.SendUpdateSW(...i)),class:"mdui-ripple mdui-btn mdui-color-indigo mdui-text-color-white btn"}," 在线更新 "),di,si]),ni])])])])}var oi=e(4493),ci=e(9669),mi=e.n(ci),ri={name:"AdminCom",data(){return{RePwdData:{old_password:"",email:"",password:"",re_password:""},IPData:[{login_time:"暂无记录",ip:"暂无记录",ip_address:"暂无记录",if_ok:!0}],AdminInfo:"Admin",UpdateSoft:{Update:!1,Version:"",Notice:""},UpdateARM:{framework:"amd64"}}},methods:{OpenDialog(){let i=new oi.Z.Dialog("#pwd");i.toggle()},changeAdPwd(){mi().post("/v2/api/admin/rep-wd",this.RePwdData).then((i=>{switch(""!==i.data){case 2e3===i.data.code:oi.Z.snackbar({message:"密码修改成功",position:"right-top"}),setTimeout((()=>{localStorage.clear(),window.open("/","_self")}),2e3);break;case 5018===i.data.code:oi.Z.snackbar({message:i.data.msg,position:"right-top"});break;case 5003===i.data.code:oi.Z.snackbar({message:"服务繁忙",position:"right-top"});break;case 5002===i.data.code:""===i.data.data?oi.Z.snackbar({message:"服务繁忙",position:"right-top"}):oi.Z.snackbar({message:i.data.msg,position:"right-top"});break}})).catch((i=>{oi.Z.snackbar({message:i,position:"right-top"})}))},GetIPData(){mi().get("/v2/api/admin/ip/info").then((i=>{switch(""!==i.data){case 2e3===i.data.code:this.IPData=i.data.data;break}})).catch((i=>{oi.Z.snackbar({message:i,position:"right-top"})}))},GetAdminInfo(){mi().get("/v2/api/admin/info").then((i=>{switch(""!==i.data){case 2e3===i.data.code:this.AdminInfo=i.data.data;break}})).catch((i=>{oi.Z.snackbar({message:i,position:"right-top"})}))},GetUpdate(){mi().get("/v2/api/check/version").then((i=>{switch(""!==i.data){case 2e3===i.data.code:if(this.UpdateSoft=i.data.data,!0===this.UpdateSoft.Update){document.getElementById("Notice").innerHTML=this.UpdateSoft.Notice;let i=new oi.Z.Dialog("#version");i.toggle()}else{document.getElementById("Notice").innerHTML="<ul><li>暂无更新</li></ul>",document.getElementById("github").style.display="none";let i=new oi.Z.Dialog("#version");i.toggle()}break}})).catch((i=>{oi.Z.snackbar({message:i,position:"right-top"})}))},GetUpdateAd(){mi().get("/v2/api/check/version").then((i=>{switch(""!==i.data){case 2e3===i.data.code:this.UpdateSoft=i.data.data,!0===this.UpdateSoft.Update&&oi.Z.snackbar({message:"有新版本可用",position:"right-top"});break}})).catch((i=>{oi.Z.snackbar({message:i,position:"right-top"})}))},ChangeUpdateARM(i){let t=i.target.selectedIndex;this.UpdateARM.framework=0===t?"amd64":1===t?"arm64":"arm-7"},SendUpdateSW(){mi().post("/v2/api/check/update/software",this.UpdateARM).then((i=>{switch(""!==i.data){case 2e3===i.data.code:oi.Z.snackbar({message:"程序已进入自动更新任务，请在5-10分钟后手动重启。如果更新失败请手动更新或查看日志排查错误原因",position:"right-top"});break;case 5030===i.data.code:oi.Z.snackbar({message:i.data.msg,position:"right-top"});break}})).catch((i=>{oi.Z.snackbar({message:i,position:"right-top"})}))}},mounted(){this.GetIPData(),this.GetAdminInfo(),this.GetUpdateAd()}},ui=e(3744);const pi=(0,ui.Z)(ri,[["render",li]]);var _i=pi,hi={name:"AdminView",components:{AdminHeader:n.Z,AdminBar:l.Z,AdminFooter:o.Z,AdminCom:_i},mounted(){window.innerWidth>=1e3&&document.body.classList.add("mdui-drawer-body-left")}};const gi=(0,ui.Z)(hi,[["render",s]]);var wi=gi}}]);
//# sourceMappingURL=657.1bfcbfbe.js.map