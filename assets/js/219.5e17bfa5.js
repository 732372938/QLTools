"use strict";(self["webpackChunkqltools"]=self["webpackChunkqltools"]||[]).push([[219],{6324:function(i,t,a){a.d(t,{Z:function(){return G}});var e=a(6252);const d=i=>((0,e.dD)("data-v-54e25290"),i=i(),(0,e.Cn)(),i),s={class:"mdui-drawer mdui-shadow-6",id:"main-drawer",style:{"box-sizing":"border-box"}},n={class:"mdui-list"},o=d((()=>(0,e._)("i",{class:"mdui-list-item-icon mdui-icon material-icons"},"desktop_mac",-1))),l=d((()=>(0,e._)("div",{class:"mdui-list-item-content"},"仪表盘",-1))),c=[o,l],m=d((()=>(0,e._)("i",{class:"mdui-list-item-icon mdui-icon material-icons"},"playlist_play",-1))),r=d((()=>(0,e._)("div",{class:"mdui-list-item-content"},"变量管理",-1))),u=[m,r],p=d((()=>(0,e._)("i",{class:"mdui-list-item-icon mdui-icon material-icons"},"apps",-1))),_=d((()=>(0,e._)("div",{class:"mdui-list-item-content"},"面板管理",-1))),h=[p,_],g=d((()=>(0,e._)("i",{class:"mdui-list-item-icon mdui-icon material-icons"},"local_play",-1))),w=d((()=>(0,e._)("div",{class:"mdui-list-item-content"},"插件管理",-1))),b=[g,w],v=d((()=>(0,e._)("i",{class:"mdui-list-item-icon mdui-icon material-icons"},"import_export",-1))),f=d((()=>(0,e._)("div",{class:"mdui-list-item-content"},"容器管理",-1))),k=[v,f],x=d((()=>(0,e._)("i",{class:"mdui-list-item-icon mdui-icon material-icons"},"sms",-1))),y=d((()=>(0,e._)("div",{class:"mdui-list-item-content"},"推送管理",-1))),U=[x,y],D=d((()=>(0,e._)("i",{class:"mdui-list-item-icon mdui-icon material-icons"},"settings",-1))),A=d((()=>(0,e._)("div",{class:"mdui-list-item-content"},"网站设置",-1))),Z=[D,A],C=d((()=>(0,e._)("i",{class:"mdui-list-item-icon mdui-icon material-icons"},"attach_money",-1))),R=d((()=>(0,e._)("div",{class:"mdui-list-item-content"},"关于面板",-1))),I=[C,R],L=d((()=>(0,e._)("a",{class:"mdui-list-item","mdui-drawer-close":""},[(0,e._)("i",{class:"mdui-list-item-icon mdui-icon material-icons"},"chevron_left"),(0,e._)("div",{class:"mdui-list-item-content"},"收起菜单")],-1)));function P(i,t,a,d,o,l){return(0,e.wg)(),(0,e.iD)("div",s,[(0,e._)("div",n,[(0,e._)("a",{onClick:t[0]||(t[0]=i=>this.OpenURL("/#/admin/")),class:"mdui-list-item"},c),(0,e._)("a",{onClick:t[1]||(t[1]=i=>this.OpenURL("/#/admin/env/")),class:"mdui-list-item"},u),(0,e._)("a",{onClick:t[2]||(t[2]=i=>this.OpenURL("/#/admin/panel/")),class:"mdui-list-item"},h),(0,e._)("a",{onClick:t[3]||(t[3]=i=>this.OpenURL("/#/admin/plugin/")),class:"mdui-list-item"},b),(0,e._)("a",{onClick:t[4]||(t[4]=i=>this.OpenURL("/#/admin/transfer/")),class:"mdui-list-item"},k),(0,e._)("a",{onClick:t[5]||(t[5]=i=>this.OpenURL("/#/admin/message/")),class:"mdui-list-item"},U),(0,e._)("a",{onClick:t[6]||(t[6]=i=>this.OpenURL("/#/admin/settings/")),class:"mdui-list-item"},Z),(0,e._)("a",{onClick:t[7]||(t[7]=i=>this.OpenURL("/#/admin/about/")),class:"mdui-list-item"},I),L])])}var S=a(4493),W={name:"AdminBar",methods:{changeStyle(){window.innerWidth>=1e3&&document.getElementById("main-drawer").classList.add("mdui-drawer-open");let i=document.querySelector("#container");i.style.minHeight=window.innerHeight-document.body.clientHeight+i.clientHeight+"px",S.Z.mutation()},OpenURL(i){window.open(i,"_self"),location.reload()}},mounted(){this.changeStyle()}},O=a(3744);const q=(0,O.Z)(W,[["render",P],["__scopeId","data-v-54e25290"]]);var G=q},950:function(i,t,a){a.d(t,{Z:function(){return L}});var e=a(6252);const d=i=>((0,e.dD)("data-v-051e9a76"),i=i(),(0,e.Cn)(),i),s={class:"mdui-m-t-5"},n={class:"mdui-p-a-5 mdui-typo mdui-container"},o={class:"mdui-row-sm-3"},l={class:"mdui-col mdui-text"},c=d((()=>(0,e._)("span",{id:"Copyright"},"Copyright © 2022 All rights reserved. ",-1))),m={href:"https://github.com/nuanxinqing123/QLTools"},r=(0,e.Uk)("青龙 Tools"),u=d((()=>(0,e._)("p",null,"简单便捷的第三方工具，给您带来不一样的体验！",-1))),p={class:"mdui-col mdui-text"},_=(0,e.Uk)("QQ交流: "),h={href:"https://jq.qq.com/?_wv=1027&k=BV2RgQaP"},g=(0,e.Uk)("进来吹水"),w=(0,e.Uk)("电报联系: "),b={href:"https://t.me/Nuanxinqing"},v=(0,e.Uk)("@Nuanxinqing"),f={class:"mdui-col mdui-text"},k=(0,e.Uk)("电报频道: "),x={href:"https://t.me/qltool"},y=(0,e.Uk)("青龙Tools"),U=(0,e.Uk)("电报群组: "),D={href:"https://t.me/qltools"},A=(0,e.Uk)("青龙Tools吹水群");function Z(i,t,a,d,Z,C){const R=(0,e.up)("st");return(0,e.wg)(),(0,e.iD)("footer",s,[(0,e._)("div",n,[(0,e._)("div",o,[(0,e._)("div",l,[(0,e._)("p",null,[c,(0,e._)("a",m,[(0,e.Wm)(R,null,{default:(0,e.w5)((()=>[r])),_:1})])]),u]),(0,e._)("div",p,[(0,e._)("p",null,[_,(0,e._)("a",h,[(0,e.Wm)(R,null,{default:(0,e.w5)((()=>[g])),_:1})])]),(0,e._)("p",null,[w,(0,e._)("a",b,[(0,e.Wm)(R,null,{default:(0,e.w5)((()=>[v])),_:1})])])]),(0,e._)("div",f,[(0,e._)("p",null,[k,(0,e._)("a",x,[(0,e.Wm)(R,null,{default:(0,e.w5)((()=>[y])),_:1})])]),(0,e._)("p",null,[U,(0,e._)("a",D,[(0,e.Wm)(R,null,{default:(0,e.w5)((()=>[A])),_:1})])])])])])])}var C={name:"AdminFooter"},R=a(3744);const I=(0,R.Z)(C,[["render",Z],["__scopeId","data-v-051e9a76"]]);var L=I},2743:function(i,t,a){a.d(t,{Z:function(){return b}});var e=a(6252);const d={class:"mdui-appbar mdui-appbar-fixed mdui-color-indigo-800"},s={class:"mdui-toolbar"},n=(0,e._)("a",{"mdui-tooltip":"{content: '菜单'}","mdui-drawer":"{target: '#main-drawer'}",class:"mdui-btn mdui-btn-icon"},[(0,e._)("i",{class:"mdui-icon material-icons"},"menu")],-1),o=(0,e._)("a",{href:"javascript:;",class:"mdui-typo-headline"},"Tools",-1),l=(0,e._)("div",{class:"mdui-toolbar-spacer"},null,-1),c=(0,e._)("i",{class:"mdui-icon material-icons"},"home",-1),m=[c],r=(0,e._)("a",{"mdui-tooltip":"{content: '刷新页面'}",href:"javascript:location.reload();",class:"mdui-btn mdui-btn-icon"},[(0,e._)("i",{class:"mdui-icon material-icons"},"refresh")],-1),u=(0,e._)("i",{class:"mdui-icon material-icons"},"exit_to_app",-1),p=[u];function _(i,t,a,c,u,_){return(0,e.wg)(),(0,e.iD)("header",d,[(0,e._)("div",s,[n,o,l,(0,e._)("a",{"mdui-tooltip":"{content: '前往首页'}",onClick:t[0]||(t[0]=(...i)=>_.GoIndex&&_.GoIndex(...i)),class:"mdui-btn mdui-btn-icon"},m),r,(0,e._)("a",{"mdui-tooltip":"{content: '退出登录'}",onClick:t[1]||(t[1]=i=>this.LogOut()),href:"javascript:;",class:"mdui-btn mdui-btn-icon",id:"LogOut"},p)])])}var h={name:"AdminHeader",methods:{LogOut(){console.log("退出登录"),localStorage.clear(),window.open("/#/","_self"),location.reload()},GoIndex(){window.open("/#/","_self"),location.reload()}}},g=a(3744);const w=(0,g.Z)(h,[["render",_]]);var b=w},6219:function(i,t,a){a.r(t),a.d(t,{default:function(){return wi}});var e=a(6252);const d={class:"mdui-appbar-with-toolbar"};function s(i,t,a,s,n,o){const l=(0,e.up)("AdminHeader"),c=(0,e.up)("AdminBar"),m=(0,e.up)("AdminCom"),r=(0,e.up)("AdminFooter");return(0,e.wg)(),(0,e.iD)("div",d,[(0,e.Wm)(l),(0,e.Wm)(c),(0,e.Wm)(m),(0,e.Wm)(r)])}var n=a(2743),o=a(6324),l=a(950),c=a(3577),m=a(9963);const r={id:"container",class:"mdui-container mdui-p-t-1",style:{"margin-top":"10px"}},u={class:"mdui-card mt",style:{"border-radius":"15px"}},p=(0,e._)("div",{class:"mdui-card-primary"},[(0,e._)("div",{class:"mdui-card-primary-title"},"管理中心"),(0,e._)("div",{class:"mdui-card-primary-subtitle"},"Admin Center")],-1),_={class:"mdui-card-menu"},h=(0,e._)("i",{class:"mdui-icon mdui-icon-left material-icons"},"settings",-1),g=(0,e.Uk)("账号设置 "),w=[h,g],b={class:"mdui-card-content mdui-typo"},v={class:"text"},f=(0,e.Uk)("欢迎回来, "),k=(0,e._)("p",{class:"text_s"},[(0,e.Uk)("Tip: 遇到问题可以前往"),(0,e._)("a",{href:"https://github.com/nuanxinqing123/QLTools"},"Github"),(0,e.Uk)("反馈问题哦")],-1),x=(0,e._)("p",{class:"text_s"},"在线更新（仅支持Linux）: 为了适配Docker，仅提供三种版本的在线更新。如何选择？ x86 架构选amd64，arm 架构选 arm64，其他设备选arm-7",-1),y={class:"mdui-float-right",style:{"margin-right":"15px","margin-top":"15px","margin-bottom":"15px"}},U=(0,e._)("i",{class:"mdui-icon mdui-icon-left material-icons"},"update",-1),D=(0,e.Uk)("检查版本 "),A=[U,D],Z={id:"pwd",class:"mdui-dialog",style:{top:"210px",display:"none"}},C=(0,e._)("div",{class:"mdui-dialog-title"},"修改管理员密码",-1),R={class:"mdui-dialog-content mdui-typo",style:{height:"407px"}},I={class:"mdui-textfield"},L=(0,e._)("label",{class:"mdui-textfield-label"},"旧密码",-1),P={class:"mdui-textfield"},S=(0,e._)("label",{class:"mdui-textfield-label"},"修改管理员邮箱",-1),W={class:"mdui-textfield"},O=(0,e._)("label",{class:"mdui-textfield-label"},"修改密码",-1),q={class:"mdui-textfield"},G=(0,e._)("label",{class:"mdui-textfield-label"},"确认密码",-1),T=(0,e._)("div",{class:"mdui-dialog-actions"},[(0,e._)("button",{class:"mdui-btn mdui-color-green-700 mdui-text-color-white btn"},[(0,e._)("i",{class:"mdui-icon mdui-icon-left material-icons"},"check"),(0,e.Uk)("确认修改 ")])],-1),H={class:"mdui-card mt",style:{"border-radius":"15px","margin-top":"15px"}},B=(0,e._)("div",{class:"mdui-card-primary"},[(0,e._)("div",{class:"mdui-card-primary-title"},"最近登录"),(0,e._)("div",{class:"mdui-card-primary-subtitle"},"Recent Login")],-1),M={class:"mdui-table-fluid"},V={class:"mdui-table"},N=(0,e._)("thead",null,[(0,e._)("tr",null,[(0,e._)("th",null,"登陆时间"),(0,e._)("th",null,"登录地址"),(0,e._)("th",null,"登录IP"),(0,e._)("th",null,"登录状态")])],-1),z={key:0,style:{color:"green"}},Q={key:1,style:{color:"red"}},j={id:"version",class:"mdui-dialog",style:{top:"210px",display:"none"}},E={class:"mdui-dialog-title"},F={class:"mdui-dialog-content mdui-typo",style:{height:"407px"}},K=(0,e._)("div",{id:"Notice"},null,-1),Y={class:"mdui-dialog-actions"},J={id:"github"},X=(0,e.Uk)(" 处理器架构： "),$=(0,e._)("option",null,"amd64",-1),ii=(0,e._)("option",null,"arm64",-1),ti=(0,e._)("option",null,"arm-7",-1),ai=[$,ii,ti],ei=(0,e.Uk)("  "),di=(0,e.Uk)("  "),si=(0,e._)("a",{href:"https://github.com/nuanxinqing123/QLTools/releases"},[(0,e._)("button",{class:"mdui-btn mdui-color-green-700 mdui-text-color-white btn"}," 前往仓库 ")],-1),ni=(0,e._)("button",{class:"mdui-btn mdui-color-blue-700 mdui-text-color-white btn","mdui-dialog-close":""}," 关闭通知 ",-1);function oi(i,t,a,d,s,n){const o=(0,e.up)("st");return(0,e.wg)(),(0,e.iD)("div",r,[(0,e._)("div",u,[p,(0,e._)("div",_,[(0,e._)("button",{onClick:t[0]||(t[0]=i=>n.OpenDialog()),"mdui-tooltip":"{content:'修改密码'}",class:"mdui-btn mdui-btn-dense mdui-btn-raised btn mdui-p-x-1 mdui-color-blue-grey mdui-text-color-white"},w)]),(0,e._)("div",b,[(0,e._)("p",v,[f,(0,e.Wm)(o,null,{default:(0,e.w5)((()=>[(0,e.Uk)((0,c.zw)(s.AdminInfo),1)])),_:1})]),k,x]),(0,e._)("div",y,[(0,e._)("button",{onClick:t[1]||(t[1]=(...i)=>n.GetUpdate&&n.GetUpdate(...i)),class:"mdui-btn mdui-btn-dense mdui-btn-raised btn mdui-p-x-1 mdui-color-green-700 mdui-text-color-white"},A)])]),(0,e._)("div",Z,[C,(0,e._)("div",R,[(0,e._)("form",{onSubmit:t[6]||(t[6]=(0,m.iM)(((...i)=>n.changeAdPwd&&n.changeAdPwd(...i)),["prevent"]))},[(0,e._)("div",I,[L,(0,e.wy)((0,e._)("input",{class:"mdui-textfield-input",type:"text",id:"old_password",placeholder:"必填","onUpdate:modelValue":t[2]||(t[2]=i=>s.RePwdData.old_password=i)},null,512),[[m.nr,s.RePwdData.old_password]])]),(0,e._)("div",P,[S,(0,e.wy)((0,e._)("input",{class:"mdui-textfield-input",type:"text",id:"email",placeholder:"如果不修改请忽略（选填）","onUpdate:modelValue":t[3]||(t[3]=i=>s.RePwdData.email=i)},null,512),[[m.nr,s.RePwdData.email]])]),(0,e._)("div",W,[O,(0,e.wy)((0,e._)("input",{class:"mdui-textfield-input",type:"text",id:"password",placeholder:"必填","onUpdate:modelValue":t[4]||(t[4]=i=>s.RePwdData.password=i)},null,512),[[m.nr,s.RePwdData.password]])]),(0,e._)("div",q,[G,(0,e.wy)((0,e._)("input",{class:"mdui-textfield-input",type:"text",id:"re_password",placeholder:"必填","onUpdate:modelValue":t[5]||(t[5]=i=>s.RePwdData.re_password=i)},null,512),[[m.nr,s.RePwdData.re_password]])]),T],32)])]),(0,e._)("div",H,[B,(0,e._)("div",M,[(0,e._)("table",V,[N,(0,e._)("tbody",null,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(s.IPData,(i=>((0,e.wg)(),(0,e.iD)("tr",{key:i},[(0,e._)("th",null,(0,c.zw)(i.login_time),1),(0,e._)("th",null,(0,c.zw)(i.ip_address),1),(0,e._)("th",null,(0,c.zw)(i.ip),1),!0===i.if_ok?((0,e.wg)(),(0,e.iD)("th",z,"成功")):((0,e.wg)(),(0,e.iD)("th",Q,"失败"))])))),128))])])])]),(0,e._)("div",j,[(0,e._)("div",E,"检查版本【本地版本："+(0,c.zw)(this.UpdateSoft.Version)+"】",1),(0,e._)("div",F,[K,(0,e._)("div",Y,[(0,e._)("span",J,[X,(0,e._)("select",{class:"mdui-select",onChange:t[7]||(t[7]=i=>n.ChangeUpdateARM(i)),id:"cpu_select"},ai,32),ei,(0,e._)("button",{onClick:t[8]||(t[8]=(...i)=>n.SendUpdateSW&&n.SendUpdateSW(...i)),class:"mdui-btn mdui-color-indigo mdui-text-color-white btn"}," 在线更新 "),di,si]),ni])])])])}var li=a(4493),ci=a(9669),mi=a.n(ci),ri={name:"AdminCom",data(){return{RePwdData:{old_password:"",email:"",password:"",re_password:""},IPData:[{login_time:"暂无记录",ip:"暂无记录",ip_address:"暂无记录",if_ok:!0}],AdminInfo:"Admin",UpdateSoft:{Update:!1,Version:"",Notice:""},UpdateARM:{framework:"amd64"}}},methods:{OpenDialog(){let i=new li.Z.Dialog("#pwd");i.toggle()},changeAdPwd(){mi().post("/v2/api/admin/rep-wd",this.RePwdData).then((i=>{switch(""!==i.data){case 2e3===i.data.code:li.Z.snackbar({message:"密码修改成功",position:"right-top"}),setTimeout((()=>{localStorage.clear(),window.open("/","_self")}),2e3);break;case 5018===i.data.code:li.Z.snackbar({message:i.data.msg,position:"right-top"});break;case 5003===i.data.code:li.Z.snackbar({message:"服务繁忙",position:"right-top"});break;case 5002===i.data.code:""===i.data.data?li.Z.snackbar({message:"服务繁忙",position:"right-top"}):li.Z.snackbar({message:i.data.msg,position:"right-top"});break}})).catch((i=>{li.Z.snackbar({message:i,position:"right-top"})}))},GetIPData(){mi().get("/v2/api/admin/ip/info").then((i=>{switch(""!==i.data){case 2e3===i.data.code:this.IPData=i.data.data;break}})).catch((i=>{li.Z.snackbar({message:i,position:"right-top"})}))},GetAdminInfo(){mi().get("/v2/api/admin/info").then((i=>{switch(""!==i.data){case 2e3===i.data.code:this.AdminInfo=i.data.data;break}})).catch((i=>{li.Z.snackbar({message:i,position:"right-top"})}))},GetUpdate(){mi().get("/v2/api/check/version").then((i=>{switch(""!==i.data){case 2e3===i.data.code:if(this.UpdateSoft=i.data.data,!0===this.UpdateSoft.Update){document.getElementById("Notice").innerHTML=this.UpdateSoft.Notice;let i=new li.Z.Dialog("#version");i.toggle()}else{document.getElementById("Notice").innerHTML="<ul><li>暂无更新</li></ul>",document.getElementById("github").style.display="none";let i=new li.Z.Dialog("#version");i.toggle()}break}})).catch((i=>{li.Z.snackbar({message:i,position:"right-top"})}))},GetUpdateAd(){mi().get("/v2/api/check/version").then((i=>{switch(""!==i.data){case 2e3===i.data.code:this.UpdateSoft=i.data.data,!0===this.UpdateSoft.Update&&li.Z.snackbar({message:"有新版本可用",position:"right-top"});break}})).catch((i=>{li.Z.snackbar({message:i,position:"right-top"})}))},ChangeUpdateARM(i){let t=i.target.selectedIndex;this.UpdateARM.framework=0===t?"amd64":1===t?"arm64":"arm-7"},SendUpdateSW(){mi().post("/v2/api/check/update/software",this.UpdateARM).then((i=>{switch(""!==i.data){case 2e3===i.data.code:li.Z.snackbar({message:"程序已进入自动更新任务，请在5-10分钟后手动重启。如果更新失败请手动更新或查看日志排查错误原因",position:"right-top"});break;case 5030===i.data.code:li.Z.snackbar({message:i.data.msg,position:"right-top"});break}})).catch((i=>{li.Z.snackbar({message:i,position:"right-top"})}))}},mounted(){this.GetIPData(),this.GetAdminInfo(),this.GetUpdateAd()}},ui=a(3744);const pi=(0,ui.Z)(ri,[["render",oi]]);var _i=pi,hi={name:"AdminView",components:{AdminHeader:n.Z,AdminBar:o.Z,AdminFooter:l.Z,AdminCom:_i},mounted(){window.innerWidth>=1e3&&document.body.classList.add("mdui-drawer-body-left")}};const gi=(0,ui.Z)(hi,[["render",s]]);var wi=gi}}]);
//# sourceMappingURL=219.5e17bfa5.js.map