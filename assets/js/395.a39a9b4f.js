"use strict";(self["webpackChunkqltools"]=self["webpackChunkqltools"]||[]).push([[395],{3798:function(e,t,n){n.d(t,{Z:function(){return y}});var a=n(6252);const i=e=>((0,a.dD)("data-v-326b083d"),e=e(),(0,a.Cn)(),e),d={class:"mdui-m-t-5",id:"footer"},o={class:"mdui-p-a-5 mdui-typo mdui-container"},l={class:"mdui-col mdui-text"},r=i((()=>(0,a._)("span",{id:"Copyright"},"Copyright © 2022 All rights reserved. ",-1))),s={href:"https://github.com/nuanxinqing123/QLTools"},c=(0,a.Uk)("青龙 Tools"),m=i((()=>(0,a._)("p",null,"简单便捷的第三方工具，给您带来不一样的体验！",-1)));function g(e,t,n,i,g,u){const v=(0,a.up)("st");return(0,a.wg)(),(0,a.iD)("footer",d,[(0,a._)("div",o,[(0,a._)("div",l,[(0,a._)("p",null,[r,(0,a._)("a",s,[(0,a.Wm)(v,null,{default:(0,a.w5)((()=>[c])),_:1})])]),m])])])}var u={name:"FooterCom"},v=n(3744);const p=(0,v.Z)(u,[["render",g],["__scopeId","data-v-326b083d"]]);var y=p},867:function(e,t,n){n.d(t,{Z:function(){return E}});var a=n(6252),i=n(3577);const d={class:"mdui-toolbar"},o=(0,a._)("i",{class:"mdui-icon material-icons"},"account_balance_wallet",-1),l={class:"mdui-typo-title"},r=(0,a._)("div",{class:"mdui-toolbar-spacer"},null,-1),s=(0,a._)("a",{"mdui-tooltip":"{content: '刷新页面'}",href:"javascript:location.reload();",class:"mdui-btn mdui-btn-icon"},[(0,a._)("i",{class:"mdui-icon material-icons"},"refresh")],-1),c=(0,a._)("i",{class:"mdui-icon material-icons"},"account_circle",-1),m=[c],g=(0,a._)("i",{class:"mdui-icon material-icons"},"exit_to_app",-1),u=[g];function v(e,t,n,c,g,v){return(0,a.wg)(),(0,a.iD)("div",d,[o,(0,a._)("span",l,(0,i.zw)(g.webTitle),1),r,s,(0,a._)("a",{"mdui-tooltip":"{content: '管理面板'}",onClick:t[0]||(t[0]=e=>this.GoAdmin()),id:"Admin",class:"mdui-btn mdui-btn-icon",style:{display:"none"}},m),(0,a._)("a",{"mdui-tooltip":"{content: '退出登录'}",onClick:t[1]||(t[1]=e=>this.LogOut()),id:"LogOut",class:"mdui-btn mdui-btn-icon",style:{display:"none"}},u)])}var p=n(9669),y=n.n(p),I={name:"HeaderCom",data(){return{webTitle:""}},methods:{GetWebTitle(){y().get("/v1/api/set/setting?key=webTitle").then((e=>{""===e.data.data["value"]?this.webTitle="青龙Tools":this.webTitle=e.data.data["value"]}))},CheckLogin(){let e=localStorage.getItem("Bearer");if(null!==e&&""!==e){let t={token:e};y().post("/v1/api/check/token",t).then((e=>{!0===e.data.data?(document.getElementById("Admin").style.display="inline",document.getElementById("LogOut").style.display="inline"):localStorage.clear()}))}},LogOut(){console.log("退出登录"),localStorage.clear(),window.open("/#/","_self"),location.reload()},GoAdmin(){window.open("/#/admin","_self"),location.reload()}},mounted(){this.CheckLogin(),this.GetWebTitle()}},x=n(3744);const h=(0,x.Z)(I,[["render",v]]);var E=h},7395:function(e,t,n){n.r(t),n.d(t,{default:function(){return z}});var a=n(6252);function i(e,t,n,i,d,o){const l=(0,a.up)("HeaderCom"),r=(0,a.up)("NoticeCom"),s=(0,a.up)("FooterCom");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",null,[(0,a.Wm)(l)]),(0,a._)("div",null,[(0,a.Wm)(r)]),(0,a._)("div",null,[(0,a.Wm)(s)])],64)}var d=n(3577),o=n(9963);const l=e=>((0,a.dD)("data-v-401c4692"),e=e(),(0,a.Cn)(),e),r={id:"BodyCon"},s=l((()=>(0,a._)("div",{class:"box",id:"box_notice"},[(0,a._)("div",null,[(0,a._)("p",{style:{"padding-bottom":"10px"}},"网站公告"),(0,a._)("hr"),(0,a._)("div",{class:"notice_data",id:"notice_data"},[(0,a._)("strong",null,[(0,a._)("span",{style:{color:"#E53333","text-align":"center"}},"本工具仅用于学习和调试使用，禁止用于任何违法犯罪行为")]),(0,a._)("br")])])],-1))),c={class:"box",style:{"margin-top":"35px"}},m=l((()=>(0,a._)("p",{style:{"padding-bottom":"10px"}},"变量提交",-1))),g=l((()=>(0,a._)("hr",null,null,-1))),u={id:"envSelect"},v={style:{width:"100%"}},p={style:{"margin-top":"8px"}},y=(0,a.Uk)(" 服务器： "),I=["value"],x={style:{"margin-top":"8px"}},h=(0,a.Uk)(" 变量组： "),E=["value","selected"],D={key:0},_={key:1},T=l((()=>(0,a._)("div",{style:{"margin-top":"8px","font-size":"16px"}},[(0,a.Uk)(" 剩余位置："),(0,a._)("span",{id:"num"},"0")],-1))),b={class:"envInput"},B={class:"mdui-textfield"},k={class:"mdui-textfield"},w=l((()=>(0,a._)("div",{style:{"text-align":"center","padding-top":"20px"}},[(0,a._)("button",{class:"mdui-btn mdui-btn-raised mdui-ripple mdui-color-blue-50",style:{width:"200px"},id:"LoginBtn"},"提  交")],-1))),f=l((()=>(0,a._)("div",{id:"SendOK",class:"mdui-dialog",style:{display:"none"}},[(0,a._)("div",{class:"mdui-dialog-title",id:"dialog-title"},"Success"),(0,a._)("div",{class:"mdui-dialog-content",id:"dialog-content"},"您已提交成功"),(0,a._)("div",{class:"mdui-dialog-actions"},[(0,a._)("button",{class:"mdui-btn mdui-ripple","mdui-dialog-close":""},"确认")])],-1)));function C(e,t,n,i,l,C){return(0,a.wg)(),(0,a.iD)("div",r,[s,(0,a._)("div",c,[(0,a._)("div",null,[m,g,(0,a._)("div",u,[(0,a._)("div",v,[(0,a._)("div",p,[y,(0,a._)("select",{class:"mdui-select",onChange:t[0]||(t[0]=e=>C.changeEnvData(e)),id:"server"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.InitIndexData["serverData"],(e=>((0,a.wg)(),(0,a.iD)("option",{key:e,value:e["PanelName"]},(0,d.zw)(e["PanelName"]),9,I)))),128))],32)]),(0,a._)("div",x,[h,(0,a._)("select",{class:"mdui-select",onChange:t[1]||(t[1]=e=>C.changeNum(e)),id:"env"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(this.EnvData,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e,value:e["name"],selected:e.selected},[""!==e["nameRemarks"]?((0,a.wg)(),(0,a.iD)("span",D,(0,d.zw)(e["nameRemarks"]),1)):((0,a.wg)(),(0,a.iD)("span",_,(0,d.zw)(e["name"]),1))],8,E)))),128))],32)]),T])]),(0,a._)("div",b,[(0,a._)("form",{onSubmit:t[4]||(t[4]=(0,o.iM)(((...e)=>C.POSTEnvAdd&&C.POSTEnvAdd(...e)),["prevent"]))},[(0,a._)("div",B,[(0,a.wy)((0,a._)("input",{type:"text",class:"mdui-textfield-input",placeholder:"变量值","onUpdate:modelValue":t[2]||(t[2]=e=>l.EnvAdd.envData=e)},null,512),[[o.nr,l.EnvAdd.envData]])]),(0,a._)("div",k,[(0,a.wy)((0,a._)("input",{type:"text",class:"mdui-textfield-input",placeholder:"备注（可空）","onUpdate:modelValue":t[3]||(t[3]=e=>l.EnvAdd.envRemarks=e)},null,512),[[o.nr,l.EnvAdd.envRemarks]])]),w],32)])])]),f])}var A=n(9669),S=n.n(A),N=n(4493),Z={name:"NoticeCom",data(){return{InitIndexData:[],EnvData:[{selected:!1}],EnvAdd:{serverID:0,envName:"",envData:"",envRemarks:""}}},methods:{GetIndexData(){S().get("/v1/api/index/data").then((e=>{this.InitIndexData=e.data.data;let t=localStorage.getItem("Bearer");if(null!==t&&""!==t)for(let n=0;n<this.InitIndexData["serverData"].length;n++)null===this.InitIndexData["serverData"][n]["envData"]&&N.Z.snackbar({message:"【管理员可见】面板存在未绑定变量，请在面板管理中绑定变量",position:"right-top"});this.EnvData=this.InitIndexData["serverData"][0]["envData"],this.EnvAdd.serverID=this.InitIndexData["serverData"][0]["ID"],null!==this.InitIndexData["serverData"][0]["envData"]&&(this.EnvAdd.envName=this.InitIndexData["serverData"][0]["envData"][0]["name"],this.EnvData[0].selected=!0,document.getElementById("num").innerText=this.InitIndexData["serverData"][0]["envData"][0]["quantity"])}))},GetNotice(){S().get("/v1/api/set/setting?key=notice").then((e=>{document.getElementById("notice_data").innerHTML=e.data.data["value"]}))},changeEnvData(e){let t=e.target.selectedIndex;this.EnvData=this.InitIndexData["serverData"][t]["envData"],this.EnvAdd.serverID=this.InitIndexData["serverData"][t]["ID"],this.EnvAdd.envName=this.InitIndexData["serverData"][t]["envData"][0]["name"],this.EnvData[0].selected=!0,document.getElementById("num").innerText=this.InitIndexData["serverData"][t]["envData"][0]["quantity"]},changeNum(e){let t=e.target.selectedIndex;document.getElementById("num").innerText=this.EnvData[t]["quantity"],this.EnvAdd.envName=this.EnvData[t]["name"]},POSTEnvAdd(){let e=new N.Z.Dialog("#SendOK");S().post("/v1/api/env/add",this.EnvAdd).then((t=>{let n=localStorage.getItem("Bearer");switch(""!==t.data){case 2e3===t.data.code:document.getElementById("dialog-title").innerText="Success",document.getElementById("dialog-content").innerText="您已提交成功",e.toggle(),setTimeout((()=>{location.reload()}),1500);break;case 5020===t.data.code:document.getElementById("dialog-title").innerText="Error",document.getElementById("dialog-content").innerText="限额已满，禁止提交",e.toggle();break;case 5019===t.data.code:document.getElementById("dialog-title").innerText="Error",document.getElementById("dialog-content").innerText="上传内容不符合规定, 请检查后再提交",e.toggle();break;case 5015===t.data.code:null!==n&&""!==n?(document.getElementById("dialog-title").innerText="【管理员可见】Error",document.getElementById("dialog-content").innerText="提交服务器或变量名不在白名单, 请尝试在后台点击清空变量绑定按钮后重新绑定解决",e.toggle()):(document.getElementById("dialog-title").innerText="Error",document.getElementById("dialog-content").innerText="提交服务器或变量名不在白名单",e.toggle());break;case 5016===t.data.code:document.getElementById("dialog-title").innerText="Error",document.getElementById("dialog-content").innerText=t.data.msg,e.toggle();break;case 5024===t.data.code:document.getElementById("dialog-title").innerText="Error",document.getElementById("dialog-content").innerText="禁止提交重复数据",e.toggle();break;case 5025===t.data.code:document.getElementById("dialog-title").innerText="Error",document.getElementById("dialog-content").innerText="该变量已被管理员禁止提交",e.toggle();break;case 5026===t.data.code:document.getElementById("dialog-title").innerText="Error",document.getElementById("dialog-content").innerText="今日提交已到达上限",e.toggle();break;case 5028===t.data.code:null!==n&&""!==n?(document.getElementById("dialog-title").innerText="【管理员可见】Error",document.getElementById("dialog-content").innerText="当前变量绑定的JS插件执行发生错误发生错误，请查看日志解决错误（日志路径：logs目录下面）",e.toggle()):(document.getElementById("dialog-title").innerText="Error",document.getElementById("dialog-content").innerText=t.data.msg,e.toggle());break;case 5029===t.data.code:document.getElementById("dialog-title").innerText="Error",document.getElementById("dialog-content").innerText="提交数据已被管理员拒绝，原因："+t.data.msg,e.toggle();break;case 5003===t.data.code:null!==n&&""!==n?(document.getElementById("dialog-title").innerText="【管理员可见】Error",document.getElementById("dialog-content").innerText="程序内部发生错误，请查看日志解决错误（日志路径：logs目录下面）",e.toggle()):(document.getElementById("dialog-title").innerText="Error",document.getElementById("dialog-content").innerText="服务繁忙,请稍后重试",e.toggle());break;case 5002===t.data.code:""===t.data.data?(document.getElementById("dialog-title").innerText="Error",document.getElementById("dialog-content").innerText="服务繁忙,请稍后重试",e.toggle()):(document.getElementById("dialog-title").innerText="Error",document.getElementById("dialog-content").innerText=JSON.parse(t.data.msg),e.toggle());break}})).catch((e=>{N.Z.snackbar({message:e,position:"right-top"})}))},changeStyle(){let e=document.querySelector("#BodyCon");e.style.minHeight=window.innerHeight-document.body.clientHeight+e.clientHeight+"px",N.Z.mutation()}},mounted(){this.GetIndexData(),this.GetNotice(),this.changeStyle()}},H=n(3744);const O=(0,H.Z)(Z,[["render",C],["__scopeId","data-v-401c4692"]]);var L=O,G=n(867),q=n(3798),U={name:"IndexView",components:{HeaderCom:G.Z,NoticeCom:L,FooterCom:q.Z}};const W=(0,H.Z)(U,[["render",i]]);var z=W}}]);
//# sourceMappingURL=395.a39a9b4f.js.map